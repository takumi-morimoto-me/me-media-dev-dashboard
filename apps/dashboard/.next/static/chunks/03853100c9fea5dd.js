(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40778,e=>{"use strict";e.s(["default",()=>eZ],40778);var t=e.i(78196),a=e.i(49430),r=e.i(46257),l=e.i(59767),s=e.i(68759),n=e.i(24717),o=e.i(80893),i=e.i(13378);let d=(0,i.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var c=e.i(51922),u=e.i(69073),p=e.i(91967),h=e.i(13144),m=e.i(40036),f=e.i(96491),x=e.i(32176),g=e.i(33198),v="Checkbox",[b,j]=(0,u.createContextScope)(v),[y,w]=b(v);function C(e){let{__scopeCheckbox:r,checked:l,children:s,defaultChecked:n,disabled:o,form:i,name:d,onCheckedChange:c,required:u,value:p="on",internal_do_not_use_render:m}=e,[f,x]=(0,h.useControllableState)({prop:l,defaultProp:null!=n&&n,onChange:c,caller:v}),[g,b]=a.useState(null),[j,w]=a.useState(null),C=a.useRef(!1),N=!g||!!i||!!g.closest("form"),k={checked:f,disabled:o,setChecked:x,control:g,setControl:b,name:d,form:i,value:p,hasConsumerStoppedPropagationRef:C,required:u,defaultChecked:!E(n)&&n,isFormControl:N,bubbleInput:j,setBubbleInput:w};return(0,t.jsx)(y,{scope:r,...k,children:"function"==typeof m?m(k):s})}var N="CheckboxTrigger",k=a.forwardRef((e,r)=>{let{__scopeCheckbox:l,onKeyDown:s,onClick:n,...o}=e,{control:i,value:d,disabled:u,checked:h,required:m,setControl:f,setChecked:x,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:j}=w(N,l),y=(0,c.useComposedRefs)(r,f),C=a.useRef(h);return a.useEffect(()=>{let e=null==i?void 0:i.form;if(e){let t=()=>x(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,x]),(0,t.jsx)(g.Primitive.button,{type:"button",role:"checkbox","aria-checked":E(h)?"mixed":h,"aria-required":m,"data-state":P(h),"data-disabled":u?"":void 0,disabled:u,value:d,...o,ref:y,onKeyDown:(0,p.composeEventHandlers)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,p.composeEventHandlers)(n,e=>{x(e=>!!E(e)||!e),j&&b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});k.displayName=N;var S=a.forwardRef((e,a)=>{let{__scopeCheckbox:r,name:l,checked:s,defaultChecked:n,required:o,disabled:i,value:d,onCheckedChange:c,form:u,...p}=e;return(0,t.jsx)(C,{__scopeCheckbox:r,checked:s,defaultChecked:n,disabled:i,required:o,onCheckedChange:c,name:l,form:u,value:d,internal_do_not_use_render:e=>{let{isFormControl:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k,{...p,ref:a,__scopeCheckbox:r}),l&&(0,t.jsx)(D,{__scopeCheckbox:r})]})}})});S.displayName=v;var T="CheckboxIndicator",_=a.forwardRef((e,a)=>{let{__scopeCheckbox:r,forceMount:l,...s}=e,n=w(T,r);return(0,t.jsx)(x.Presence,{present:l||E(n.checked)||!0===n.checked,children:(0,t.jsx)(g.Primitive.span,{"data-state":P(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:a,style:{pointerEvents:"none",...e.style}})})});_.displayName=T;var R="CheckboxBubbleInput",D=a.forwardRef((e,r)=>{let{__scopeCheckbox:l,...s}=e,{control:n,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:d,required:u,disabled:p,name:h,value:x,form:v,bubbleInput:b,setBubbleInput:j}=w(R,l),y=(0,c.useComposedRefs)(r,j),C=(0,m.usePrevious)(i),N=(0,f.useSize)(n);a.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(C!==i&&e){let a=new Event("click",{bubbles:t});b.indeterminate=E(i),e.call(b,!E(i)&&i),b.dispatchEvent(a)}},[b,C,i,o]);let k=a.useRef(!E(i)&&i);return(0,t.jsx)(g.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:k.current,required:u,disabled:p,name:h,value:x,form:v,...s,tabIndex:-1,ref:y,style:{...s.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function E(e){return"indeterminate"===e}function P(e){return E(e)?"indeterminate":e?"checked":"unchecked"}D.displayName=R;var F=e.i(39856),I=e.i(44052);let z=a.forwardRef((e,a)=>{let{className:r,...l}=e;return(0,t.jsx)(S,{ref:a,className:(0,I.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...l,children:(0,t.jsx)(_,{className:(0,I.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(F.Check,{className:"h-4 w-4"})})})});z.displayName=S.displayName;var O=e.i(6746);let M=e=>new Intl.NumberFormat("ja-JP").format(e),A=e=>{let{item:r,headers:i,data:c,viewMode:u,level:p,expandedRows:h,toggleRow:m,selectedItems:f,toggleItemSelection:x,handleDeleteItem:g,isDeleting:v}=e,b=h.has(r.id);return(0,t.jsxs)(a.default.Fragment,{children:[(0,t.jsxs)(l.TableRow,{className:0===p?"font-bold bg-muted hover:bg-muted/90":"hover:bg-muted/50",children:[(0,t.jsx)(l.TableCell,{className:"sticky left-0 z-10 whitespace-nowrap ".concat(0===p?"bg-muted":"bg-background"),style:{paddingLeft:"".concat(1+1.5*p,"rem")},children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z,{checked:f.has(r.id),onCheckedChange:()=>x(r.id)}),r.children.length>0?(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",onClick:()=>m(r.id),className:"h-8 w-8",children:b?(0,t.jsx)(n.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(o.ChevronRight,{className:"h-4 w-4"})}):(0,t.jsx)("span",{className:"w-8 h-8"}),(0,t.jsx)("span",{children:r.name}),(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-60 hover:opacity-100",onClick:()=>g(r.id,r.name),disabled:v,children:(0,t.jsx)(d,{className:"h-3 w-3"})})]})}),i.map(e=>{var s;let n=(null==(s=c[r.id])?void 0:s[e.key])||{budget:0,actual:0},o=n.budget,i=n.actual,d=0===o?0:i/o*100;return(0,t.jsxs)(a.default.Fragment,{children:[("all"===u||"budget"===u)&&(0,t.jsx)(l.TableCell,{className:"text-right font-mono border-l whitespace-nowrap px-2",children:M(o)}),("all"===u||"actual"===u)&&(0,t.jsx)(l.TableCell,{className:"text-right font-mono whitespace-nowrap px-2 ".concat("actual"===u?"border-l":""),children:M(i)}),"all"===u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.TableCell,{className:"text-right font-mono whitespace-nowrap px-2",children:M(i-o)}),(0,t.jsxs)(l.TableCell,{className:"text-right font-mono border-r whitespace-nowrap px-2",children:[d.toFixed(0),"%"]})]})]},e.key)})]}),b&&r.children.map(e=>(0,t.jsx)(A,{item:e,headers:i,data:c,viewMode:u,level:p+1,expandedRows:h,toggleRow:m,selectedItems:f,toggleItemSelection:x,handleDeleteItem:g,isDeleting:v},e.id))]})};function U(e){let{headers:r,rows:n,data:o,viewMode:i="all",onDataChange:c}=e,[u,p]=(0,a.useState)(()=>new Set(n.map(e=>e.id))),[h,m]=(0,a.useState)(new Set),[f,x]=(0,a.useState)(!1),g=(0,a.useMemo)(()=>{let e=new Set,t=a=>{a.forEach(a=>{e.add(a.id),a.children.length>0&&t(a.children)})};return t(n),e},[n]),v=e=>{p(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},b=e=>{m(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},j=async()=>{if(0===h.size)return O.toast.error("削除する項目を選択してください。");if(confirm("選択した".concat(h.size,"件の項目を削除しますか？"))){x(!0);try{if(!(await fetch("/api/account-items/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemIds:Array.from(h)})})).ok)throw Error("Delete failed");O.toast.success("項目を削除しました。"),m(new Set),null==c||c()}catch(e){O.toast.error("削除に失敗しました。")}finally{x(!1)}}},y=async(e,t)=>{if(!confirm("「".concat(t,"」を削除しますか？")))return};return(0,t.jsxs)("div",{className:"bg-background rounded-lg overflow-x-auto",children:[h.size>0&&(0,t.jsxs)("div",{className:"p-4 bg-muted flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:[h.size,"件選択中"]}),(0,t.jsxs)(s.Button,{variant:"destructive",size:"sm",onClick:j,disabled:f,children:[(0,t.jsx)(d,{className:"h-4 w-4 mr-2"}),"選択項目を削除"]})]}),(0,t.jsxs)(l.Table,{children:[(0,t.jsxs)(l.TableHeader,{children:[(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableHead,{rowSpan:2,className:"w-[250px] min-w-[250px] sticky left-0 bg-background z-10 align-middle border-b",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z,{checked:h.size>0&&h.size===g.size,onCheckedChange:()=>{h.size>0?m(new Set):m(g)}}),"勘定項目"]})}),r.map(e=>(0,t.jsx)(l.TableHead,{colSpan:"all"===i?4:"budget"===i||"actual"===i?1:4,className:"text-center border-l font-bold",children:e.label},e.key))]}),(0,t.jsx)(l.TableRow,{children:r.map(e=>(0,t.jsxs)(a.default.Fragment,{children:[("all"===i||"budget"===i)&&(0,t.jsx)(l.TableHead,{className:"min-w-[100px] text-right font-normal text-xs border-l whitespace-nowrap px-2",children:"予算"}),("all"===i||"actual"===i)&&(0,t.jsx)(l.TableHead,{className:"min-w-[100px] text-right font-normal text-xs whitespace-nowrap px-2 ".concat("actual"===i?"border-l":""),children:"実績"}),"all"===i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.TableHead,{className:"min-w-[100px] text-right font-normal text-xs whitespace-nowrap px-2",children:"差異"}),(0,t.jsx)(l.TableHead,{className:"min-w-[100px] text-right font-normal text-xs border-r whitespace-nowrap px-2",children:"達成率"})]})]},e.key))})]}),(0,t.jsx)(l.TableBody,{children:n.map(e=>(0,t.jsx)(A,{item:e,headers:r,data:o,viewMode:i,level:0,expandedRows:u,toggleRow:v,selectedItems:h,toggleItemSelection:b,handleDeleteItem:y,isDeleting:f},e.id))})]})]})}let B=(0,i.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),H=(0,i.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var L=e.i(24306),V=e.i(82585),G=e.i(32078),Y=e.i(54015),K=e.i(60212),q=e.i(5656),J=e.i(38350),X=e.i(20334),W=e.i(73772),Z=e.i(77628),Q="Popover",[$,ee]=(0,u.createContextScope)(Q,[q.createPopperScope]),et=(0,q.createPopperScope)(),[ea,er]=$(Q),el=e=>{let{__scopePopover:r,children:l,open:s,defaultOpen:n,onOpenChange:o,modal:i=!1}=e,d=et(r),c=a.useRef(null),[u,p]=a.useState(!1),[m,f]=(0,h.useControllableState)({prop:s,defaultProp:null!=n&&n,onChange:o,caller:Q});return(0,t.jsx)(q.Root,{...d,children:(0,t.jsx)(ea,{scope:r,contentId:(0,K.useId)(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>p(!0),[]),onCustomAnchorRemove:a.useCallback(()=>p(!1),[]),modal:i,children:l})})};el.displayName=Q;var es="PopoverAnchor";a.forwardRef((e,r)=>{let{__scopePopover:l,...s}=e,n=er(es,l),o=et(l),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return a.useEffect(()=>(i(),()=>d()),[i,d]),(0,t.jsx)(q.Anchor,{...o,...s,ref:r})}).displayName=es;var en="PopoverTrigger",eo=a.forwardRef((e,a)=>{let{__scopePopover:r,...l}=e,s=er(en,r),n=et(r),o=(0,c.useComposedRefs)(a,s.triggerRef),i=(0,t.jsx)(g.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":eb(s.open),...l,ref:o,onClick:(0,p.composeEventHandlers)(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:(0,t.jsx)(q.Anchor,{asChild:!0,...n,children:i})});eo.displayName=en;var ei="PopoverPortal",[ed,ec]=$(ei,{forceMount:void 0}),eu=e=>{let{__scopePopover:a,forceMount:r,children:l,container:s}=e,n=er(ei,a);return(0,t.jsx)(ed,{scope:a,forceMount:r,children:(0,t.jsx)(x.Presence,{present:r||n.open,children:(0,t.jsx)(J.Portal,{asChild:!0,container:s,children:l})})})};eu.displayName=ei;var ep="PopoverContent",eh=a.forwardRef((e,a)=>{let r=ec(ep,e.__scopePopover),{forceMount:l=r.forceMount,...s}=e,n=er(ep,e.__scopePopover);return(0,t.jsx)(x.Presence,{present:l||n.open,children:n.modal?(0,t.jsx)(ef,{...s,ref:a}):(0,t.jsx)(ex,{...s,ref:a})})});eh.displayName=ep;var em=(0,X.createSlot)("PopoverContent.RemoveScroll"),ef=a.forwardRef((e,r)=>{let l=er(ep,e.__scopePopover),s=a.useRef(null),n=(0,c.useComposedRefs)(r,s),o=a.useRef(!1);return a.useEffect(()=>{let e=s.current;if(e)return(0,W.hideOthers)(e)},[]),(0,t.jsx)(Z.RemoveScroll,{as:em,allowPinchZoom:!0,children:(0,t.jsx)(eg,{...e,ref:n,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,p.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),o.current||null==(t=l.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,p.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;o.current=2===t.button||a},{checkForDefaultPrevented:!1}),onFocusOutside:(0,p.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ex=a.forwardRef((e,r)=>{let l=er(ep,e.__scopePopover),s=a.useRef(!1),n=a.useRef(!1);return(0,t.jsx)(eg,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,r;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(s.current||null==(r=l.triggerRef.current)||r.focus(),t.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:t=>{var a,r;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let o=t.target;(null==(r=l.triggerRef.current)?void 0:r.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),eg=a.forwardRef((e,a)=>{let{__scopePopover:r,trapFocus:l,onOpenAutoFocus:s,onCloseAutoFocus:n,disableOutsidePointerEvents:o,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...p}=e,h=er(ep,r),m=et(r);return(0,G.useFocusGuards)(),(0,t.jsx)(Y.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:s,onUnmountAutoFocus:n,children:(0,t.jsx)(V.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:(0,t.jsx)(q.Content,{"data-state":eb(h.open),role:"dialog",id:h.contentId,...m,...p,ref:a,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ev="PopoverClose";function eb(e){return e?"open":"closed"}a.forwardRef((e,a)=>{let{__scopePopover:r,...l}=e,s=er(ev,r);return(0,t.jsx)(g.Primitive.button,{type:"button",...l,ref:a,onClick:(0,p.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=ev,a.forwardRef((e,a)=>{let{__scopePopover:r,...l}=e,s=et(r);return(0,t.jsx)(q.Arrow,{...s,...l,ref:a})}).displayName="PopoverArrow";let ej=a.forwardRef((e,a)=>{let{className:r,align:l="center",sideOffset:s=4,...n}=e;return(0,t.jsx)(eu,{children:(0,t.jsx)(eh,{ref:a,align:l,sideOffset:s,className:(0,I.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r),...n})})});function ey(e){let{mediaId:r,onImportComplete:n,dataToExport:o,selectedYear:i,fiscalYearStartMonth:d}=e,[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)("budget"),v=async(e,t)=>{var a;let r=null==(a=e.target.files)?void 0:a[0];if(r){g(t);try{let e=(await r.text()).trim().split("\n");if(e.length<2)return void O.toast.error("ファイルが空です。");let a=r.name.endsWith(".tsv")||e[0].includes("	"),l=a?"	":",";a||O.toast.warning("CSV形式を検出しました。数値にカンマ（,）が含まれていないか確認してください。推奨形式: TSV",{duration:5e3});let s=e[0].split(l).map(e=>e.trim()),n=e.slice(1),o="budget",c=[],p=s.some(e=>e.includes("予算")),m=s.some(e=>e.includes("実績"));p&&m?(o="both",s.slice(2).forEach(e=>{let t=e.match(/(\d+)月/);t&&!c.includes(parseInt(t[1]))&&c.push(parseInt(t[1]))})):(o=t,s.slice(2).forEach(e=>{let t=e.match(/(\d+)月/);t&&c.push(parseInt(t[1]))}));let f=n.map(e=>{let t=e.split(l).map(e=>e.trim()),a=t[0],r=t[1],s=[];return"both"===o?c.forEach((e,a)=>{var r,l;let n=e<d?i+1:i,o=parseFloat((null==(r=t[2+2*a])?void 0:r.replace(/,/g,""))||"0")||0,c=parseFloat((null==(l=t[2+2*a+1])?void 0:l.replace(/,/g,""))||"0")||0;s.push({year:n,month:e,budget:o,actual:c})}):c.forEach((e,a)=>{var r;let l=e<d?i+1:i,n=parseFloat((null==(r=t[2+a])?void 0:r.replace(/,/g,""))||"0")||0;"budget"===o?s.push({year:l,month:e,budget:n,actual:null}):s.push({year:l,month:e,budget:null,actual:n})}),{parent:a,account_item:r,values:s}});if(f.filter(e=>!e.account_item||!e.parent).length>0)return void O.toast.error("ファイルの形式が正しくありません。勘定項目名と親項目は必須です。");h({mode:o,months:c,items:f}),u(!0)}catch(e){console.error("File parse error:",e),O.toast.error("ファイルの読み込みに失敗しました。")}e.target.value=""}},b=e=>{let t=new Blob(["both"===e?"parent	account_item	4月予算	4月実績	5月予算	5月実績	6月予算	6月実績\n売上	広告収入	1,000,000	950,000	1,200,000	1,100,000	1,100,000	1,050,000\n売上	制作収入	500,000	480,000	550,000	520,000	600,000	580,000\n費用	人件費	800,000	800,000	800,000	800,000	800,000	800,000\n費用	広告費	300,000	280,000	350,000	320,000	400,000	380,000":"budget"===e?"parent	account_item	4月	5月	6月	7月	8月	9月\n売上	広告収入	1,000,000	1,200,000	1,100,000	1,300,000	1,400,000	1,500,000\n売上	制作収入	500,000	550,000	600,000	650,000	700,000	750,000\n費用	人件費	800,000	800,000	800,000	800,000	800,000	800,000\n費用	広告費	300,000	350,000	400,000	450,000	500,000	550,000":"parent	account_item	4月	5月	6月	7月	8月	9月\n売上	広告収入	950,000	1,100,000	1,050,000	1,250,000	1,350,000	1,450,000\n売上	制作収入	480,000	520,000	580,000	620,000	680,000	720,000\n費用	人件費	800,000	800,000	800,000	800,000	800,000	800,000\n費用	広告費	280,000	320,000	380,000	420,000	480,000	520,000"],{type:"text/tab-separated-values;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download","both"===e?"budget_actual_template.tsv":"budget"===e?"budget_template.tsv":"actual_template.tsv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},j=async()=>{if("all"===r)return void O.toast.error("メディアを選択してください。");if(!p)return void O.toast.error("データがありません。");f(!0);try{let e=await fetch("/api/financials/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mediaId:r,items:p.items})});if(!e.ok){let t=await e.json();throw Error(t.error||"Import failed")}O.toast.success("データをインポートしました。"),u(!1),h(null),n()}catch(e){console.error("Import error:",e),O.toast.error(e instanceof Error?e.message:"インポートに失敗しました。")}finally{f(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(el,{children:[(0,t.jsx)(eo,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",className:"h-8 gap-2",children:[(0,t.jsx)(H,{className:"h-4 w-4"}),"ダウンロード"]})}),(0,t.jsx)(ej,{className:"w-60",align:"start",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h4",{className:"font-medium text-sm px-2 pt-1.5 pb-1",children:"現在のデータをエクスポート"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{if(!o||0===o.length)return void O.toast.error("エクスポートするデータがありません。");let e=(e=>{let t=new Map,a=[];return e?(e.forEach(e=>{t.has(e.account_item_id)||t.set(e.account_item_id,{id:e.account_item_id,name:e.account_item_name,parentId:e.parent_id,displayOrder:e.display_order,children:[],monthlyData:{}}),t.get(e.account_item_id).monthlyData[e.month]={budget:e.total_budget,actual:e.total_actual}}),t.forEach(e=>{e.parentId&&t.has(e.parentId)?t.get(e.parentId).children.push(e):a.push(e)}),a.forEach(e=>{e.children.sort((e,t)=>e.displayOrder-t.displayOrder)}),a.sort((e,t)=>e.displayOrder-t.displayOrder)):[]})(o),t=[...new Set(o.map(e=>e.month))].sort((e,t)=>e-t),a=new Blob([[["parent","account_item",...t.flatMap(e=>["".concat(e,"月予算"),"".concat(e,"月実績")])].join("	"),...e.flatMap(e=>[["",e.name,...t.flatMap(t=>{let a=e.monthlyData[t]||{budget:0,actual:0};return[a.budget,a.actual]})].join("	"),...e.children.map(a=>[e.name,a.name,...t.flatMap(e=>{let t=a.monthlyData[e]||{budget:0,actual:0};return[t.budget,t.actual]})].join("	"))])].join("\n")],{type:"text/tab-separated-values;charset=utf-8;"}),l=document.createElement("a"),s=URL.createObjectURL(a),n="financial_data_".concat(r,"_").concat(new Date().toISOString().split("T")[0],".tsv");l.setAttribute("href",s),l.setAttribute("download",n),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),O.toast.success("データのエクスポートが完了しました。")},children:"TSV形式でエクスポート"}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsx)("h4",{className:"font-medium text-sm px-2 pt-1.5 pb-1",children:"空のテンプレート"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>b("both"),children:"予算・実績両方 (TSV)"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>b("budget"),children:"予算のみ (TSV)"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>b("actual"),children:"実績のみ (TSV)"})]})})]}),(0,t.jsxs)(el,{children:[(0,t.jsx)(eo,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",className:"h-8 gap-2",children:[(0,t.jsx)(B,{className:"h-4 w-4"}),"インポート"]})}),(0,t.jsx)(ej,{className:"w-56",align:"start",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-2",children:"インポート種類"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{var e;return null==(e=document.getElementById("csv-upload-budget"))?void 0:e.click()},children:"予算データ"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{var e;return null==(e=document.getElementById("csv-upload-actual"))?void 0:e.click()},children:"実績データ"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2 px-2",children:"※TSV/CSV両方対応"})]})})]})]}),(0,t.jsx)("input",{id:"csv-upload-budget",type:"file",accept:".tsv,.csv",className:"hidden",onChange:e=>v(e,"budget")}),(0,t.jsx)("input",{id:"csv-upload-actual",type:"file",accept:".tsv,.csv",className:"hidden",onChange:e=>v(e,"actual")}),(0,t.jsx)(L.Dialog,{open:c,onOpenChange:u,children:(0,t.jsxs)(L.DialogContent,{className:"max-w-6xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)(L.DialogHeader,{children:[(0,t.jsx)(L.DialogTitle,{children:"データインポート確認"}),(0,t.jsxs)(L.DialogDescription,{children:["以下の内容でインポートします。同じ親項目配下のデータは部分更新されます。",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"※TSV形式推奨（カンマ入り数値対応）"})]})]}),(0,t.jsx)("div",{className:"overflow-auto flex-1",children:p&&(0,t.jsxs)(l.Table,{children:[(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableHead,{className:"sticky left-0 bg-background",children:"親項目"}),(0,t.jsx)(l.TableHead,{children:"勘定項目"}),p.months.map(e=>(0,t.jsxs)(a.default.Fragment,{children:[("both"===p.mode||"budget"===p.mode)&&(0,t.jsxs)(l.TableHead,{className:"text-right",children:[e,"月予算"]}),("both"===p.mode||"actual"===p.mode)&&(0,t.jsxs)(l.TableHead,{className:"text-right",children:[e,"月実績"]})]},e))]})}),(0,t.jsx)(l.TableBody,{children:p.items.map((e,r)=>(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableCell,{className:"sticky left-0 bg-background font-medium",children:e.parent}),(0,t.jsx)(l.TableCell,{children:e.account_item}),p.months.map(r=>{var s,n,o,i;let d=e.values.find(e=>e.month===r);return(0,t.jsxs)(a.default.Fragment,{children:[("both"===p.mode||"budget"===p.mode)&&(0,t.jsx)(l.TableCell,{className:"text-right font-mono",children:null!=(o=null==d||null==(s=d.budget)?void 0:s.toLocaleString())?o:"-"}),("both"===p.mode||"actual"===p.mode)&&(0,t.jsx)(l.TableCell,{className:"text-right font-mono",children:null!=(i=null==d||null==(n=d.actual)?void 0:n.toLocaleString())?i:"-"})]},r)})]},r))})]})}),(0,t.jsxs)(L.DialogFooter,{children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>u(!1),disabled:m,children:"キャンセル"}),(0,t.jsx)(s.Button,{onClick:j,disabled:m,children:m?"インポート中...":"インポート"})]})]})})]})}ej.displayName=eh.displayName;let ew=(0,i.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var eC=e.i(23961),eN=e.i(98478),ek=e.i(42373),eS="Toggle",eT=a.forwardRef((e,a)=>{let{pressed:r,defaultPressed:l,onPressedChange:s,...n}=e,[o,i]=(0,h.useControllableState)({prop:r,onChange:s,defaultProp:null!=l&&l,caller:eS});return(0,t.jsx)(g.Primitive.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...n,ref:a,onClick:(0,p.composeEventHandlers)(e.onClick,()=>{e.disabled||i(!o)})})});eT.displayName=eS;var e_=e.i(60690),eR="ToggleGroup",[eD,eE]=(0,u.createContextScope)(eR,[ek.createRovingFocusGroupScope]),eP=(0,ek.createRovingFocusGroupScope)(),eF=a.default.forwardRef((e,a)=>{let{type:r,...l}=e;if("single"===r)return(0,t.jsx)(eO,{...l,ref:a});if("multiple"===r)return(0,t.jsx)(eM,{...l,ref:a});throw Error("Missing prop `type` expected on `".concat(eR,"`"))});eF.displayName=eR;var[eI,ez]=eD(eR),eO=a.default.forwardRef((e,r)=>{let{value:l,defaultValue:s,onValueChange:n=()=>{},...o}=e,[i,d]=(0,h.useControllableState)({prop:l,defaultProp:null!=s?s:"",onChange:n,caller:eR});return(0,t.jsx)(eI,{scope:e.__scopeToggleGroup,type:"single",value:a.default.useMemo(()=>i?[i]:[],[i]),onItemActivate:d,onItemDeactivate:a.default.useCallback(()=>d(""),[d]),children:(0,t.jsx)(eB,{...o,ref:r})})}),eM=a.default.forwardRef((e,r)=>{let{value:l,defaultValue:s,onValueChange:n=()=>{},...o}=e,[i,d]=(0,h.useControllableState)({prop:l,defaultProp:null!=s?s:[],onChange:n,caller:eR}),c=a.default.useCallback(e=>d(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...t,e]}),[d]),u=a.default.useCallback(e=>d(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(t=>t!==e)}),[d]);return(0,t.jsx)(eI,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:(0,t.jsx)(eB,{...o,ref:r})})});eF.displayName=eR;var[eA,eU]=eD(eR),eB=a.default.forwardRef((e,a)=>{let{__scopeToggleGroup:r,disabled:l=!1,rovingFocus:s=!0,orientation:n,dir:o,loop:i=!0,...d}=e,c=eP(r),u=(0,e_.useDirection)(o),p={role:"group",dir:u,...d};return(0,t.jsx)(eA,{scope:r,rovingFocus:s,disabled:l,children:s?(0,t.jsx)(ek.Root,{asChild:!0,...c,orientation:n,dir:u,loop:i,children:(0,t.jsx)(g.Primitive.div,{...p,ref:a})}):(0,t.jsx)(g.Primitive.div,{...p,ref:a})})}),eH="ToggleGroupItem",eL=a.default.forwardRef((e,r)=>{let l=ez(eH,e.__scopeToggleGroup),s=eU(eH,e.__scopeToggleGroup),n=eP(e.__scopeToggleGroup),o=l.value.includes(e.value),i=s.disabled||e.disabled,d={...e,pressed:o,disabled:i},c=a.default.useRef(null);return s.rovingFocus?(0,t.jsx)(ek.Item,{asChild:!0,...n,focusable:!i,active:o,ref:c,children:(0,t.jsx)(eV,{...d,ref:r})}):(0,t.jsx)(eV,{...d,ref:r})});eL.displayName=eH;var eV=a.default.forwardRef((e,a)=>{let{__scopeToggleGroup:r,value:l,...s}=e,n=ez(eH,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i="single"===n.type?o:void 0;return(0,t.jsx)(eT,{...i,...s,ref:a,onPressedChange:e=>{e?n.onItemActivate(l):n.onItemDeactivate(l)}})});let eG=(0,e.i(94237).cva)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),eY=a.createContext({size:"default",variant:"default"}),eK=a.forwardRef((e,a)=>{let{className:r,variant:l,size:s,children:n,...o}=e;return(0,t.jsx)(eF,{ref:a,className:(0,I.cn)("flex items-center justify-center gap-1",r),...o,children:(0,t.jsx)(eY.Provider,{value:{variant:l,size:s},children:n})})});eK.displayName=eF.displayName;let eq=a.forwardRef((e,r)=>{let{className:l,children:s,variant:n,size:o,...i}=e,d=a.useContext(eY);return(0,t.jsx)(eL,{ref:r,className:(0,I.cn)(eG({variant:d.variant||n,size:d.size||o}),l),...i,children:s})});eq.displayName=eL.displayName;let eJ=e=>{(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));let t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),a=Math.ceil(((e.getTime()-t.getTime())/864e5+1)/7);return{year:e.getUTCFullYear(),week:a}},eX=(e,t)=>{let a=new Date(Date.UTC(e,0,1+(t-1)*7));return a.setUTCDate(a.getUTCDate()+1-a.getUTCDay()),a},eW=(e,t)=>{let a=eX(e,t),r=new Date(a);return r.setUTCDate(a.getUTCDate()+6),r};function eZ(e){let{monthlyData:l,dailyData:n,accountItems:o,fiscalYearStartMonth:i}=e,d=(0,r.useRouter)(),c=(0,r.useSearchParams)(),[u,p]=(0,a.useState)(!1),[h,m]=(0,a.useState)("monthly"),f=c.get("media")||"all",x=parseInt(c.get("year")||new Date().getFullYear().toString()),[g,v]=(0,a.useState)(x),[b,j]=(0,a.useState)("all"),y=new Date().getFullYear(),w=Array.from({length:11},(e,t)=>y-5+t),C=()=>d.refresh(),N=(0,a.useMemo)(()=>{let e=o.reduce((e,t)=>(e[t.id]={...t,children:[]},e),{}),t=[];Object.values(e).forEach(a=>{a.parent_id&&e[a.parent_id]?e[a.parent_id].children.push(a):t.push(a)}),t.forEach(e=>e.children.sort((e,t)=>e.display_order-t.display_order)),t.sort((e,t)=>e.display_order-t.display_order);let a=n.reduce((e,t)=>(e[t.account_item_id]||(e[t.account_item_id]=[]),e[t.account_item_id].push(t),e),{}),r=[],s={},d=e=>{var t;let r=(null==(t=e.children)?void 0:t.flatMap(e=>a[e.id]||[]))||[];return[...a[e.id]||[],...r]},c=new Date(g,i-1,1),u=new Date(g+1,i-1,0);if("monthly"===h){Array.from({length:12},(e,t)=>(t+i-1)%12+1).forEach(e=>r.push({key:"m-".concat(e),label:"".concat(e,"月")}));let t=l.reduce((e,t)=>(e[t.account_item_id]||(e[t.account_item_id]=[]),e[t.account_item_id].push(t),e),{});Object.values(e).forEach(e=>{var a;s[e.id]={};let l=(null==(a=e.children)?void 0:a.flatMap(e=>t[e.id]||[]))||[],n=[...t[e.id]||[],...l];r.forEach(t=>{let a=parseInt(t.key.split("-")[1]),r=n.filter(e=>e.item_month===a);s[e.id][t.key]={budget:r.reduce((e,t)=>e+t.budget,0),actual:r.reduce((e,t)=>e+t.actual,0)}})})}else if("weekly"===h){let t=new Map,a=new Date(c);for(;a<=u;){let{year:e,week:r}=eJ(a),l="w-".concat(e,"-").concat(r);if(!t.has(l)){let a=eX(e,r),s=eW(e,r);t.set(l,{year:e,week:r,start:a,end:s})}a.setDate(a.getDate()+1)}Array.from(t.values()).sort((e,t)=>e.year-t.year||e.week-t.week).forEach(e=>{let{year:t,week:a,start:l,end:s}=e;r.push({key:"w-".concat(t,"-").concat(a),label:"".concat(l.getMonth()+1,"/").concat(l.getDate(),"-").concat(s.getMonth()+1,"/").concat(s.getDate())})}),Object.values(e).forEach(e=>{s[e.id]={};let t=d(e);r.forEach(a=>{let[,r,l]=a.key.split("-").map(Number),n=eX(r,l),o=eW(r,l),i=t.filter(e=>{let t=new Date(e.item_date);return t>=n&&t<=o});s[e.id][a.key]={budget:i.reduce((e,t)=>e+t.budget,0),actual:i.reduce((e,t)=>e+t.actual,0)}})})}else if("daily"===h){let t=new Date(c);for(;t<=u;){let e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),s="".concat(e,"-").concat(a,"-").concat(l);r.push({key:"d-".concat(s),label:"".concat(t.getMonth()+1,"/").concat(t.getDate())}),t.setDate(t.getDate()+1)}Object.values(e).forEach(e=>{s[e.id]={};let t=d(e);r.forEach(a=>{let r=a.key.substring(2),l=t.filter(e=>e.item_date===r);s[e.id][a.key]={budget:l.reduce((e,t)=>e+t.budget,0),actual:l.reduce((e,t)=>e+t.actual,0)}})})}return{headers:r,rows:t,data:s}},[l,n,o,h,i,g]),k=+(g!==y)+ +("all"!==b);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(ey,{mediaId:f,onImportComplete:C,dataToExport:[],selectedYear:g,fiscalYearStartMonth:i}),(0,t.jsxs)(el,{open:u,onOpenChange:p,children:[(0,t.jsx)(eo,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",className:"h-8 gap-2",children:[(0,t.jsx)(ew,{className:"h-4 w-4"}),"Filter",k>0&&(0,t.jsx)("span",{className:"ml-1 rounded-full bg-primary px-2 py-0.5 text-xs text-primary-foreground",children:k})]})}),(0,t.jsx)(ej,{className:"w-80",align:"start",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium",children:"フィルター"}),k>0&&(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{v(y),j("all");let e=new URLSearchParams(c.toString());e.delete("year"),d.push("?".concat(e.toString()))},className:"h-auto p-1 text-xs",children:"リセット"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eN.Label,{className:"text-sm font-medium",children:"会計年度"}),(0,t.jsx)("select",{value:g,onChange:e=>v(parseInt(e.target.value)),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:w.map(e=>(0,t.jsxs)("option",{value:e,children:[e,"年度"]},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eN.Label,{className:"text-sm font-medium",children:"表示項目"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z,{id:"view-all",checked:"all"===b,onCheckedChange:()=>j("all")}),(0,t.jsx)("label",{htmlFor:"view-all",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"予実比較"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z,{id:"view-budget",checked:"budget"===b,onCheckedChange:()=>j("budget")}),(0,t.jsx)("label",{htmlFor:"view-budget",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"予算のみ"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z,{id:"view-actual",checked:"actual"===b,onCheckedChange:()=>j("actual")}),(0,t.jsx)("label",{htmlFor:"view-actual",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"実績のみ"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>p(!1),children:"キャンセル"}),(0,t.jsx)(s.Button,{size:"sm",onClick:()=>{let e=new URLSearchParams(c.toString());e.set("year",g.toString()),d.push("?".concat(e.toString())),p(!1)},children:"適用"})]})]})})]}),k>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[g!==y&&(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-secondary px-2 py-1 text-xs",children:[(0,t.jsxs)("span",{children:["会計年度: ",g,"年度"]}),(0,t.jsx)("button",{onClick:()=>{v(y);let e=new URLSearchParams(c.toString());e.delete("year"),d.push("?".concat(e.toString()))},className:"ml-1 hover:bg-secondary-foreground/10 rounded",children:(0,t.jsx)(eC.X,{className:"h-3 w-3"})})]}),"all"!==b&&(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-secondary px-2 py-1 text-xs",children:[(0,t.jsx)("span",{children:"budget"===b?"予算のみ":"実績のみ"}),(0,t.jsx)("button",{onClick:()=>j("all"),className:"ml-1 hover:bg-secondary-foreground/10 rounded",children:(0,t.jsx)(eC.X,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)(eK,{type:"single",variant:"outline",size:"sm",value:h,onValueChange:e=>e&&m(e),children:[(0,t.jsx)(eq,{value:"monthly",children:"月次"}),(0,t.jsx)(eq,{value:"weekly",children:"週次"}),(0,t.jsx)(eq,{value:"daily",children:"日次"})]})]}),(0,t.jsx)(U,{headers:N.headers,rows:N.rows,data:N.data,viewMode:b,onDataChange:C})]})}}]);