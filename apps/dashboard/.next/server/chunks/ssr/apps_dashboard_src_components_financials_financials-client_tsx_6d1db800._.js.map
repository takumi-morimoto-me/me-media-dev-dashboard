{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-checkbox@1.3.3_@types+react-dom@19.2.1_@types+react@19.2.2__@types+reac_11e65865aa173d6425f676e33c20fb76/node_modules/@radix-ui/react-checkbox/dist/index.mjs","turbopack:///[project]/apps/dashboard/src/components/ui/checkbox.tsx","turbopack:///[project]/apps/dashboard/src/components/financials/financials-table.tsx","turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-popover@1.1.15_@types+react-dom@19.2.1_@types+react@19.2.2__@types+reac_89895b3770d78d957188c196a1eab4ce/node_modules/@radix-ui/react-popover/dist/index.mjs","turbopack:///[project]/apps/dashboard/src/components/ui/popover.tsx","turbopack:///[project]/apps/dashboard/src/components/financials/account-items-import.tsx","turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-toggle@1.1.10_@types+react-dom@19.2.1_@types+react@19.2.2__@types+react_51fecfc7736016acddf383548d9a4d46/node_modules/@radix-ui/react-toggle/dist/index.mjs","turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-toggle-group@1.1.11_@types+react-dom@19.2.1_@types+react@19.2.2__@types_b6cb55609505245937c8680efd87f387/node_modules/@radix-ui/react-toggle-group/dist/index.mjs","turbopack:///[project]/apps/dashboard/src/components/ui/toggle.tsx","turbopack:///[project]/apps/dashboard/src/components/ui/toggle-group.tsx","turbopack:///[project]/apps/dashboard/src/components/financials/financials-client.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.544.0_react@19.1.0/node_modules/lucide-react/src/icons/trash-2.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.544.0_react@19.1.0/node_modules/lucide-react/src/icons/upload.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.544.0_react@19.1.0/node_modules/lucide-react/src/icons/download.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.544.0_react@19.1.0/node_modules/lucide-react/src/icons/funnel.ts","turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-checkbox@1.3.3_@types+react-dom@19.2.1_@types+react@19.2.2__@types+reac_11e65865aa173d6425f676e33c20fb76/node_modules/@radix-ui/react-checkbox/src/checkbox.tsx","turbopack:///[project]/node_modules/.pnpm/@radix-ui+react-toggle-group@1.1.11_@types+react-dom@19.2.1_@types+react@19.2.2__@types_b6cb55609505245937c8680efd87f387/node_modules/@radix-ui/react-toggle-group/src/toggle-group.tsx"],"sourcesContent":["\"use client\";\n\n// src/checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProviderImpl, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nfunction CheckboxProvider(props) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = \"on\",\n    // @ts-expect-error\n    internal_do_not_use_render\n  } = props;\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME\n  });\n  const [control, setControl] = React.useState(null);\n  const [bubbleInput, setBubbleInput] = React.useState(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control ? !!form || !!control.closest(\"form\") : (\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    true\n  );\n  const context = {\n    checked,\n    disabled,\n    setChecked,\n    control,\n    setControl,\n    name,\n    form,\n    value,\n    hasConsumerStoppedPropagationRef,\n    required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl,\n    bubbleInput,\n    setBubbleInput\n  };\n  return /* @__PURE__ */ jsx(\n    CheckboxProviderImpl,\n    {\n      scope: __scopeCheckbox,\n      ...context,\n      children: isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children\n    }\n  );\n}\nvar TRIGGER_NAME = \"CheckboxTrigger\";\nvar CheckboxTrigger = React.forwardRef(\n  ({ __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }, forwardedRef) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener(\"reset\", reset);\n        return () => form.removeEventListener(\"reset\", reset);\n      }\n    }, [control, setChecked]);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"checkbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        \"aria-required\": required,\n        \"data-state\": getState(checked),\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        value,\n        ...checkboxProps,\n        ref: composedRefs,\n        onKeyDown: composeEventHandlers(onKeyDown, (event) => {\n          if (event.key === \"Enter\") event.preventDefault();\n        }),\n        onClick: composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })\n      }\n    );\n  }\n);\nCheckboxTrigger.displayName = TRIGGER_NAME;\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    return /* @__PURE__ */ jsx(\n      CheckboxProvider,\n      {\n        __scopeCheckbox,\n        checked,\n        defaultChecked,\n        disabled,\n        required,\n        onCheckedChange,\n        name,\n        form,\n        value,\n        internal_do_not_use_render: ({ isFormControl }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            CheckboxTrigger,\n            {\n              ...checkboxProps,\n              ref: forwardedRef,\n              __scopeCheckbox\n            }\n          ),\n          isFormControl && /* @__PURE__ */ jsx(\n            CheckboxBubbleInput,\n            {\n              __scopeCheckbox\n            }\n          )\n        ] })\n      }\n    );\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(context.checked) || context.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            \"data-state\": getState(context.checked),\n            \"data-disabled\": context.disabled ? \"\" : void 0,\n            ...indicatorProps,\n            ref: forwardedRef,\n            style: { pointerEvents: \"none\", ...props.style }\n          }\n        )\n      }\n    );\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"CheckboxBubbleInput\";\nvar CheckboxBubbleInput = React.forwardRef(\n  ({ __scopeCheckbox, ...props }, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n        required,\n        disabled,\n        name,\n        value,\n        form,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: \"translateX(-100%)\"\n        }\n      }\n    );\n  }\n);\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  CheckboxIndicator as Indicator,\n  Checkbox as Root,\n  createCheckboxScope,\n  CheckboxBubbleInput as unstable_BubbleInput,\n  CheckboxBubbleInput as unstable_CheckboxBubbleInput,\n  CheckboxProvider as unstable_CheckboxProvider,\n  CheckboxTrigger as unstable_CheckboxTrigger,\n  CheckboxProvider as unstable_Provider,\n  CheckboxTrigger as unstable_Trigger\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","\"use client\"\n\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport React, { useMemo, useState } from \"react\";\nimport { ChevronDown, ChevronRight, Trash2 } from \"lucide-react\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { toast } from \"sonner\";\n\n// Types\ninterface AccountItemRow {\n  id: string;\n  name: string;\n  parent_id: string | null;\n  children: AccountItemRow[];\n  display_order: number;\n}\n\ninterface Header {\n  key: string;\n  label: string;\n}\n\ninterface AggregatedData {\n  [itemId: string]: {\n    [headerKey: string]: {\n      budget: number;\n      actual: number;\n    };\n  };\n}\n\ninterface FinancialsTableProps {\n  headers: Header[];\n  rows: AccountItemRow[];\n  data: AggregatedData;\n  viewMode?: 'all' | 'budget' | 'actual';\n  onDataChange?: () => void;\n}\n\nconst formatNumber = (num: number) => new Intl.NumberFormat('ja-JP').format(num);\n\nconst DataRow: React.FC<{ \n  item: AccountItemRow;\n  headers: Header[];\n  data: AggregatedData;\n  viewMode: 'all' | 'budget' | 'actual';\n  level: number;\n  expandedRows: Set<string>;\n  toggleRow: (id: string) => void;\n  selectedItems: Set<string>;\n  toggleItemSelection: (id: string) => void;\n  handleDeleteItem: (id: string, name: string) => void;\n  isDeleting: boolean;\n}> = ({ item, headers, data, viewMode, level, expandedRows, toggleRow, selectedItems, toggleItemSelection, handleDeleteItem, isDeleting }) => {\n  const isExpanded = expandedRows.has(item.id);\n\n  return (\n    <React.Fragment>\n      <TableRow className={level === 0 ? \"font-bold bg-muted hover:bg-muted/90\" : \"hover:bg-muted/50\"}>\n        <TableCell \n          className={`sticky left-0 z-10 whitespace-nowrap ${level === 0 ? 'bg-muted' : 'bg-background'}`}\n          style={{ paddingLeft: `${1 + level * 1.5}rem` }}\n        >\n          <div className=\"flex items-center gap-2\">\n            <Checkbox\n              checked={selectedItems.has(item.id)}\n              onCheckedChange={() => toggleItemSelection(item.id)}\n            />\n            {item.children.length > 0 ? (\n              <Button variant=\"ghost\" size=\"icon\" onClick={() => toggleRow(item.id)} className=\"h-8 w-8\">\n                {isExpanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n              </Button>\n            ) : (\n              <span className=\"w-8 h-8\" /> // Placeholder for alignment\n            )}\n            <span>{item.name}</span>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-6 w-6 opacity-60 hover:opacity-100\"\n              onClick={() => handleDeleteItem(item.id, item.name)}\n              disabled={isDeleting}\n            >\n              <Trash2 className=\"h-3 w-3\" />\n            </Button>\n          </div>\n        </TableCell>\n        {headers.map(header => {\n          const cellData = data[item.id]?.[header.key] || { budget: 0, actual: 0 };\n          const budget = cellData.budget;\n          const actual = cellData.actual;\n          const difference = actual - budget;\n          const achievementRate = budget === 0 ? 0 : (actual / budget) * 100;\n\n          return (\n            <React.Fragment key={header.key}>\n              {(viewMode === 'all' || viewMode === 'budget') && (\n                <TableCell className=\"text-right font-mono border-l whitespace-nowrap px-2\">{formatNumber(budget)}</TableCell>\n              )}\n              {(viewMode === 'all' || viewMode === 'actual') && (\n                <TableCell className={`text-right font-mono whitespace-nowrap px-2 ${viewMode === 'actual' ? 'border-l' : ''}`}>{formatNumber(actual)}</TableCell>\n              )}\n              {viewMode === 'all' && (\n                <>\n                  <TableCell className=\"text-right font-mono whitespace-nowrap px-2\">{formatNumber(difference)}</TableCell>\n                  <TableCell className=\"text-right font-mono border-r whitespace-nowrap px-2\">{achievementRate.toFixed(0)}%</TableCell>\n                </>\n              )}\n            </React.Fragment>\n          );\n        })}\n      </TableRow>\n      {isExpanded && item.children.map(child => (\n        <DataRow\n          key={child.id}\n          item={child}\n          headers={headers}\n          data={data}\n          viewMode={viewMode}\n          level={level + 1}\n          expandedRows={expandedRows}\n          toggleRow={toggleRow}\n          selectedItems={selectedItems}\n          toggleItemSelection={toggleItemSelection}\n          handleDeleteItem={handleDeleteItem}\n          isDeleting={isDeleting}\n        />\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport default function FinancialsTable({\n  headers,\n  rows,\n  data,\n  viewMode = 'all',\n  onDataChange,\n}: FinancialsTableProps) {\n  const [expandedRows, setExpandedRows] = useState<Set<string>>(() => new Set(rows.map(r => r.id)));\n  const [selectedItems, setSelectedItems] = useState<Set<string>>(new Set());\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const allItemIds = useMemo(() => {\n    const ids = new Set<string>();\n    const collectIds = (items: AccountItemRow[]) => {\n      items.forEach(item => {\n        ids.add(item.id);\n        if (item.children.length > 0) {\n          collectIds(item.children);\n        }\n      });\n    };\n    collectIds(rows);\n    return ids;\n  }, [rows]);\n\n  const toggleRow = (id: string) => {\n    setExpandedRows(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(id)) newSet.delete(id); else newSet.add(id);\n      return newSet;\n    });\n  };\n\n  const toggleItemSelection = (id: string) => {\n    setSelectedItems(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(id)) newSet.delete(id); else newSet.add(id);\n      return newSet;\n    });\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedItems.size > 0) {\n      setSelectedItems(new Set());\n    } else {\n      setSelectedItems(allItemIds);\n    }\n  };\n\n  const handleDeleteSelected = async () => {\n    if (selectedItems.size === 0) return toast.error(\"削除する項目を選択してください。\");\n    if (!confirm(`選択した${selectedItems.size}件の項目を削除しますか？`)) return;\n\n    setIsDeleting(true);\n    try {\n      const response = await fetch('/api/account-items/delete', { /* API endpoint might need review */\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ itemIds: Array.from(selectedItems) }),\n      });\n      if (!response.ok) throw new Error('Delete failed');\n      toast.success(\"項目を削除しました。\");\n      setSelectedItems(new Set());\n      onDataChange?.();\n    } catch (error) {\n      toast.error(\"削除に失敗しました。\");\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleDeleteItem = async (id: string, name: string) => {\n    if (!confirm(`「${name}」を削除しますか？`)) return;\n    // Similar logic to handleDeleteSelected\n  };\n\n  const getColSpan = () => {\n    if (viewMode === 'all') return 4;\n    if (viewMode === 'budget' || viewMode === 'actual') return 1;\n    return 4;\n  };\n\n  return (\n    <div className=\"bg-background rounded-lg overflow-x-auto\">\n      {selectedItems.size > 0 && (\n        <div className=\"p-4 bg-muted flex items-center justify-between\">\n          <span className=\"text-sm font-medium\">{selectedItems.size}件選択中</span>\n          <Button variant=\"destructive\" size=\"sm\" onClick={handleDeleteSelected} disabled={isDeleting}>\n            <Trash2 className=\"h-4 w-4 mr-2\" />\n            選択項目を削除\n          </Button>\n        </div>\n      )}\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead rowSpan={2} className=\"w-[250px] min-w-[250px] sticky left-0 bg-background z-10 align-middle border-b\">\n              <div className=\"flex items-center gap-2\">\n                <Checkbox\n                  checked={selectedItems.size > 0 && selectedItems.size === allItemIds.size}\n                  onCheckedChange={toggleSelectAll}\n                />\n                勘定項目\n              </div>\n            </TableHead>\n            {headers.map(header => (\n              <TableHead key={header.key} colSpan={getColSpan()} className=\"text-center border-l font-bold\">\n                {header.label}\n              </TableHead>\n            ))}\n          </TableRow>\n          <TableRow>\n            {headers.map(header => (\n              <React.Fragment key={header.key}>\n                {(viewMode === 'all' || viewMode === 'budget') && <TableHead className=\"min-w-[100px] text-right font-normal text-xs border-l whitespace-nowrap px-2\">予算</TableHead>}\n                {(viewMode === 'all' || viewMode === 'actual') && <TableHead className={`min-w-[100px] text-right font-normal text-xs whitespace-nowrap px-2 ${viewMode === 'actual' ? 'border-l' : ''}`}>実績</TableHead>}\n                {viewMode === 'all' && (\n                  <>\n                    <TableHead className=\"min-w-[100px] text-right font-normal text-xs whitespace-nowrap px-2\">差異</TableHead>\n                    <TableHead className=\"min-w-[100px] text-right font-normal text-xs border-r whitespace-nowrap px-2\">達成率</TableHead>\n                  </>\n                )}\n              </React.Fragment>\n            ))}\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {rows.map(item => (\n            <DataRow\n              key={item.id}\n              item={item}\n              headers={headers}\n              data={data}\n              viewMode={viewMode}\n              level={0}\n              expandedRows={expandedRows}\n              toggleRow={toggleRow}\n              selectedItems={selectedItems}\n              toggleItemSelection={toggleItemSelection}\n              handleDeleteItem={handleDeleteItem}\n              isDeleting={isDeleting}\n            />\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}","\"use client\";\n\n// src/popover.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover = (props) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME\n  });\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    PopoverProvider,\n    {\n      scope: __scopePopover,\n      contentId: useId(),\n      triggerRef,\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      hasCustomAnchor,\n      onCustomAnchorAdd: React.useCallback(() => setHasCustomAnchor(true), []),\n      onCustomAnchorRemove: React.useCallback(() => setHasCustomAnchor(false), []),\n      modal,\n      children\n    }\n  ) });\n};\nPopover.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nPopoverAnchor.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME = \"PopoverTrigger\";\nvar PopoverTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: trigger });\n  }\n);\nPopoverTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"PopoverPortal\";\nvar [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar PopoverPortal = (props) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopePopover, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nPopoverPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"PopoverContent\";\nvar PopoverContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nPopoverContent.displayName = CONTENT_NAME;\nvar Slot = createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(\n          props.onPointerDownOutside,\n          (event) => {\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n          },\n          { checkForDefaultPrevented: false }\n        ),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nvar PopoverContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar PopoverContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    useFocusGuards();\n    return /* @__PURE__ */ jsx(\n      FocusScope,\n      {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: /* @__PURE__ */ jsx(\n          DismissableLayer,\n          {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: () => context.onOpenChange(false),\n            children: /* @__PURE__ */ jsx(\n              PopperPrimitive.Content,\n              {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                  ...contentProps.style,\n                  // re-namespace exposed content custom properties\n                  ...{\n                    \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                  }\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME = \"PopoverArrow\";\nvar PopoverArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nPopoverArrow.displayName = ARROW_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar Root2 = Popover;\nvar Anchor2 = PopoverAnchor;\nvar Trigger = PopoverTrigger;\nvar Portal = PopoverPortal;\nvar Content2 = PopoverContent;\nvar Close = PopoverClose;\nvar Arrow2 = PopoverArrow;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  Close,\n  Content2 as Content,\n  Popover,\n  PopoverAnchor,\n  PopoverArrow,\n  PopoverClose,\n  PopoverContent,\n  PopoverPortal,\n  PopoverTrigger,\n  Portal,\n  Root2 as Root,\n  Trigger,\n  createPopoverScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Upload, Download } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { toast } from \"sonner\";\nimport { FinancialSummary } from \"@/lib/mock-data/financial-summary\";\n\ntype TransformedDataItem = {\n  id: string;\n  name: string;\n  parentId: string | null;\n  displayOrder: number;\n  children: TransformedDataItem[];\n  monthlyData: { [month: number]: { budget: number; actual: number } };\n};\n\nconst transformDataForExport = (data: FinancialSummary[]): TransformedDataItem[] => {\n  const itemsById = new Map<string, TransformedDataItem>();\n  const rootItems: TransformedDataItem[] = [];\n\n  if (!data) return [];\n\n  data.forEach(item => {\n    if (!itemsById.has(item.account_item_id)) {\n      itemsById.set(item.account_item_id, {\n        id: item.account_item_id,\n        name: item.account_item_name,\n        parentId: item.parent_id,\n        displayOrder: item.display_order,\n        children: [],\n        monthlyData: {},\n      });\n    }\n    const currentItem = itemsById.get(item.account_item_id)!;\n    currentItem.monthlyData[item.month] = {\n      budget: item.total_budget,\n      actual: item.total_actual,\n    };\n  });\n\n  itemsById.forEach((item) => {\n    if (item.parentId && itemsById.has(item.parentId)) {\n      const parent = itemsById.get(item.parentId)!;\n      parent.children.push(item);\n    } else {\n      rootItems.push(item);\n    }\n  });\n  \n  rootItems.forEach(item => {\n    item.children.sort((a, b) => a.displayOrder - b.displayOrder);\n  });\n\n  return rootItems.sort((a, b) => a.displayOrder - b.displayOrder);\n};\n\n\ninterface ParsedCSVData {\n  mode: 'both' | 'budget' | 'actual';\n  months: number[];\n  items: {\n    parent: string;\n    account_item: string;\n    values: { year: number; month: number; budget: number | null; actual: number | null }[];\n  }[];\n}\n\ninterface AccountItemsImportProps {\n  mediaId: string;\n  onImportComplete: () => void;\n  dataToExport: FinancialSummary[];\n  selectedYear: number;\n  fiscalYearStartMonth: number;\n}\n\nexport default function AccountItemsImport({ mediaId, onImportComplete, dataToExport, selectedYear, fiscalYearStartMonth }: AccountItemsImportProps) {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [parsedData, setParsedData] = useState<ParsedCSVData | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadType, setUploadType] = useState<'budget' | 'actual'>('budget');\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>, type: 'budget' | 'actual') => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    setUploadType(type);\n\n    try {\n      const text = await file.text();\n      const lines = text.trim().split('\\n');\n\n      if (lines.length < 2) {\n        toast.error(\"ファイルが空です。\");\n        return;\n      }\n\n      const isTSV = file.name.endsWith('.tsv') || lines[0].includes('\\t');\n      const delimiter = isTSV ? '\\t' : ',';\n\n      if (!isTSV) {\n        toast.warning(\"CSV形式を検出しました。数値にカンマ（,）が含まれていないか確認してください。推奨形式: TSV\", {\n          duration: 5000,\n        });\n      }\n\n      const headers = lines[0].split(delimiter).map(s => s.trim());\n      const dataLines = lines.slice(1);\n\n      let mode: 'both' | 'budget' | 'actual' = 'budget';\n      const months: number[] = [];\n\n      const hasBudget = headers.some(h => h.includes('予算'));\n      const hasActual = headers.some(h => h.includes('実績'));\n\n      if (hasBudget && hasActual) {\n        mode = 'both';\n        headers.slice(2).forEach(h => {\n          const match = h.match(/(\\d+)月/);\n          if (match && !months.includes(parseInt(match[1]))) {\n            months.push(parseInt(match[1]));\n          }\n        });\n      } else {\n        mode = type;\n        headers.slice(2).forEach(h => {\n          const match = h.match(/(\\d+)月/);\n          if (match) {\n            months.push(parseInt(match[1]));\n          }\n        });\n      }\n\n      const items = dataLines.map(line => {\n        const cells = line.split(delimiter).map(s => s.trim());\n        const parent = cells[0];\n        const account_item = cells[1];\n        const values: { year: number; month: number; budget: number | null; actual: number | null }[] = [];\n\n        if (mode === 'both') {\n          months.forEach((month, idx) => {\n            const year = month < fiscalYearStartMonth ? selectedYear + 1 : selectedYear;\n            const budgetValue = parseFloat(cells[2 + idx * 2]?.replace(/,/g, '') || '0') || 0;\n            const actualValue = parseFloat(cells[2 + idx * 2 + 1]?.replace(/,/g, '') || '0') || 0;\n            values.push({ year, month, budget: budgetValue, actual: actualValue });\n          });\n        } else {\n          months.forEach((month, idx) => {\n            const year = month < fiscalYearStartMonth ? selectedYear + 1 : selectedYear;\n            const value = parseFloat(cells[2 + idx]?.replace(/,/g, '') || '0') || 0;\n            if (mode === 'budget') {\n              values.push({ year, month, budget: value, actual: null });\n            } else {\n              values.push({ year, month, budget: null, actual: value });\n            }\n          });\n        }\n        return { parent, account_item, values };\n      });\n\n      const errors = items.filter(item => !item.account_item || !item.parent);\n      if (errors.length > 0) {\n        toast.error(\"ファイルの形式が正しくありません。勘定項目名と親項目は必須です。\");\n        return;\n      }\n\n      setParsedData({ mode, months, items });\n      setIsDialogOpen(true);\n    } catch (error) {\n      console.error(\"File parse error:\", error);\n      toast.error(\"ファイルの読み込みに失敗しました。\");\n    }\n\n    event.target.value = '';\n  };\n\n  const handleDownloadTemplate = (type: 'both' | 'budget' | 'actual') => {\n    let tsvContent = '';\n\n    if (type === 'both') {\n      tsvContent = `parent\\taccount_item\\t4月予算\\t4月実績\\t5月予算\\t5月実績\\t6月予算\\t6月実績\\n売上\\t広告収入\\t1,000,000\\t950,000\\t1,200,000\\t1,100,000\\t1,100,000\\t1,050,000\\n売上\\t制作収入\\t500,000\\t480,000\\t550,000\\t520,000\\t600,000\\t580,000\\n費用\\t人件費\\t800,000\\t800,000\\t800,000\\t800,000\\t800,000\\t800,000\\n費用\\t広告費\\t300,000\\t280,000\\t350,000\\t320,000\\t400,000\\t380,000`;\n    } else if (type === 'budget') {\n      tsvContent = `parent\\taccount_item\\t4月\\t5月\\t6月\\t7月\\t8月\\t9月\\n売上\\t広告収入\\t1,000,000\\t1,200,000\\t1,100,000\\t1,300,000\\t1,400,000\\t1,500,000\\n売上\\t制作収入\\t500,000\\t550,000\\t600,000\\t650,000\\t700,000\\t750,000\\n費用\\t人件費\\t800,000\\t800,000\\t800,000\\t800,000\\t800,000\\t800,000\\n費用\\t広告費\\t300,000\\t350,000\\t400,000\\t450,000\\t500,000\\t550,000`;\n    } else {\n      tsvContent = `parent\\taccount_item\\t4月\\t5月\\t6月\\t7月\\t8月\\t9月\\n売上\\t広告収入\\t950,000\\t1,100,000\\t1,050,000\\t1,250,000\\t1,350,000\\t1,450,000\\n売上\\t制作収入\\t480,000\\t520,000\\t580,000\\t620,000\\t680,000\\t720,000\\n費用\\t人件費\\t800,000\\t800,000\\t800,000\\t800,000\\t800,000\\t800,000\\n費用\\t広告費\\t280,000\\t320,000\\t380,000\\t420,000\\t480,000\\t520,000`;\n    }\n\n    const blob = new Blob([tsvContent], { type: 'text/tab-separated-values;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n\n    const filename = type === 'both'\n      ? 'budget_actual_template.tsv'\n      : type === 'budget'\n        ? 'budget_template.tsv'\n        : 'actual_template.tsv';\n\n    link.setAttribute('href', url);\n    link.setAttribute('download', filename);\n    link.style.visibility = 'hidden';\n\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    URL.revokeObjectURL(url);\n  };\n\n  const handleImport = async () => {\n    if (mediaId === 'all') {\n      toast.error(\"メディアを選択してください。\");\n      return;\n    }\n\n    if (!parsedData) {\n      toast.error(\"データがありません。\");\n      return;\n    }\n\n    setIsUploading(true);\n    try {\n      const response = await fetch('/api/financials/import', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          mediaId,\n          items: parsedData.items,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Import failed');\n      }\n\n      toast.success(\"データをインポートしました。\");\n\n      setIsDialogOpen(false);\n      setParsedData(null);\n      onImportComplete();\n    } catch (error) {\n      console.error(\"Import error:\", error);\n      toast.error(error instanceof Error ? error.message : \"インポートに失敗しました。\");\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleExportCurrentData = () => {\n    if (!dataToExport || dataToExport.length === 0) {\n      toast.error(\"エクスポートするデータがありません。\");\n      return;\n    }\n\n    const transformedData = transformDataForExport(dataToExport);\n    \n    const allMonths = [...new Set(dataToExport.map(d => d.month))].sort((a, b) => a - b);\n\n    const header = [\n      \"parent\",\n      \"account_item\",\n      ...allMonths.flatMap(month => [`${month}月予算`, `${month}月実績`])\n    ].join('\\t');\n\n    const rows = transformedData.flatMap(parent => {\n      const parentRow = [\n        \"\",\n        parent.name,\n        ...allMonths.flatMap(month => {\n          const data = parent.monthlyData[month] || { budget: 0, actual: 0 };\n          return [data.budget, data.actual];\n        })\n      ].join('\\t');\n\n      const childRows = parent.children.map(child => {\n        return [\n          parent.name,\n          child.name,\n          ...allMonths.flatMap(month => {\n            const data = child.monthlyData[month] || { budget: 0, actual: 0 };\n            return [data.budget, data.actual];\n          })\n        ].join('\\t');\n      });\n\n      return [parentRow, ...childRows];\n    });\n\n    const tsvContent = [header, ...rows].join('\\n');\n\n    const blob = new Blob([tsvContent], { type: 'text/tab-separated-values;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    const filename = `financial_data_${mediaId}_${new Date().toISOString().split('T')[0]}.tsv`;\n\n    link.setAttribute('href', url);\n    link.setAttribute('download', filename);\n    link.style.visibility = 'hidden';\n\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    URL.revokeObjectURL(url);\n    toast.success(\"データのエクスポートが完了しました。\");\n  };\n\n  return (\n    <>\n      <div className=\"flex items-center gap-2\">\n        {/* Template Downloads & Export */}\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-8 gap-2\">\n              <Download className=\"h-4 w-4\" />\n              ダウンロード\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-60\" align=\"start\">\n            <div className=\"space-y-1\">\n              <h4 className=\"font-medium text-sm px-2 pt-1.5 pb-1\">現在のデータをエクスポート</h4>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={handleExportCurrentData}\n              >\n                TSV形式でエクスポート\n              </Button>\n\n              <hr className=\"my-2\" />\n\n              <h4 className=\"font-medium text-sm px-2 pt-1.5 pb-1\">空のテンプレート</h4>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() => handleDownloadTemplate('both')}\n              >\n                予算・実績両方 (TSV)\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() => handleDownloadTemplate('budget')}\n              >\n                予算のみ (TSV)\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() => handleDownloadTemplate('actual')}\n              >\n                実績のみ (TSV)\n              </Button>\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        {/* Upload Buttons */}\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-8 gap-2\">\n              <Upload className=\"h-4 w-4\" />\n              インポート\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-56\" align=\"start\">\n            <div className=\"space-y-2\">\n              <h4 className=\"font-medium text-sm mb-2\">インポート種類</h4>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() => document.getElementById('csv-upload-budget')?.click()}\n              >\n                予算データ\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() => document.getElementById('csv-upload-actual')?.click()}\n              >\n                実績データ\n              </Button>\n              <p className=\"text-xs text-muted-foreground mt-2 px-2\">\n                ※TSV/CSV両方対応\n              </p>\n            </div>\n          </PopoverContent>\n        </Popover>\n      </div>\n\n      {/* Hidden file inputs */}\n      <input\n        id=\"csv-upload-budget\"\n        type=\"file\"\n        accept=\".tsv,.csv\"\n        className=\"hidden\"\n        onChange={(e) => handleFileSelect(e, 'budget')}\n      />\n      <input\n        id=\"csv-upload-actual\"\n        type=\"file\"\n        accept=\".tsv,.csv\"\n        className=\"hidden\"\n        onChange={(e) => handleFileSelect(e, 'actual')}\n      />\n\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n        <DialogContent className=\"max-w-6xl max-h-[80vh] overflow-hidden flex flex-col\">\n          <DialogHeader>\n            <DialogTitle>データインポート確認</DialogTitle>\n            <DialogDescription>\n              以下の内容でインポートします。同じ親項目配下のデータは部分更新されます。\n              <br />\n              <span className=\"text-xs text-muted-foreground\">※TSV形式推奨（カンマ入り数値対応）</span>\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"overflow-auto flex-1\">\n            {parsedData && (\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead className=\"sticky left-0 bg-background\">親項目</TableHead>\n                    <TableHead>勘定項目</TableHead>\n                    {parsedData.months.map(month => (\n                      <React.Fragment key={month}>\n                        {(parsedData.mode === 'both' || parsedData.mode === 'budget') && (\n                          <TableHead className=\"text-right\">{month}月予算</TableHead>\n                        )}\n                        {(parsedData.mode === 'both' || parsedData.mode === 'actual') && (\n                          <TableHead className=\"text-right\">{month}月実績</TableHead>\n                        )}\n                      </React.Fragment>\n                    ))}\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {parsedData.items.map((item, idx) => (\n                    <TableRow key={idx}>\n                      <TableCell className=\"sticky left-0 bg-background font-medium\">\n                        {item.parent}\n                      </TableCell>\n                      <TableCell>{item.account_item}</TableCell>\n                      {parsedData.months.map(month => {\n                        const value = item.values.find(v => v.month === month);\n                        return (\n                          <React.Fragment key={month}>\n                            {(parsedData.mode === 'both' || parsedData.mode === 'budget') && (\n                              <TableCell className=\"text-right font-mono\">\n                                {value?.budget?.toLocaleString() ?? '-'}\n                              </TableCell>\n                            )}\n                            {(parsedData.mode === 'both' || parsedData.mode === 'actual') && (\n                              <TableCell className=\"text-right font-mono\">\n                                {value?.actual?.toLocaleString() ?? '-'}\n                              </TableCell>\n                            )}\n                          </React.Fragment>\n                        );\n                      })}\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            )}\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)} disabled={isUploading}>\n              キャンセル\n            </Button>\n            <Button onClick={handleImport} disabled={isUploading}>\n              {isUploading ? 'インポート中...' : 'インポート'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}","\"use client\";\n\n// src/toggle.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Toggle\";\nvar Toggle = React.forwardRef((props, forwardedRef) => {\n  const { pressed: pressedProp, defaultPressed, onPressedChange, ...buttonProps } = props;\n  const [pressed, setPressed] = useControllableState({\n    prop: pressedProp,\n    onChange: onPressedChange,\n    defaultProp: defaultPressed ?? false,\n    caller: NAME\n  });\n  return /* @__PURE__ */ jsx(\n    Primitive.button,\n    {\n      type: \"button\",\n      \"aria-pressed\": pressed,\n      \"data-state\": pressed ? \"on\" : \"off\",\n      \"data-disabled\": props.disabled ? \"\" : void 0,\n      ...buttonProps,\n      ref: forwardedRef,\n      onClick: composeEventHandlers(props.onClick, () => {\n        if (!props.disabled) {\n          setPressed(!pressed);\n        }\n      })\n    }\n  );\n});\nToggle.displayName = NAME;\nvar Root = Toggle;\nexport {\n  Root,\n  Toggle\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/toggle-group.tsx\nimport React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Toggle } from \"@radix-ui/react-toggle\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TOGGLE_GROUP_NAME = \"ToggleGroup\";\nvar [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar ToggleGroup = React.forwardRef((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n  if (type === \"single\") {\n    const singleProps = toggleGroupProps;\n    return /* @__PURE__ */ jsx(ToggleGroupImplSingle, { ...singleProps, ref: forwardedRef });\n  }\n  if (type === \"multiple\") {\n    const multipleProps = toggleGroupProps;\n    return /* @__PURE__ */ jsx(ToggleGroupImplMultiple, { ...multipleProps, ref: forwardedRef });\n  }\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\nvar [ToggleGroupValueProvider, useToggleGroupValueContext] = createToggleGroupContext(TOGGLE_GROUP_NAME);\nvar ToggleGroupImplSingle = React.forwardRef((props, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {\n    },\n    ...toggleGroupSingleProps\n  } = props;\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? \"\",\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    ToggleGroupValueProvider,\n    {\n      scope: props.__scopeToggleGroup,\n      type: \"single\",\n      value: React.useMemo(() => value ? [value] : [], [value]),\n      onItemActivate: setValue,\n      onItemDeactivate: React.useCallback(() => setValue(\"\"), [setValue]),\n      children: /* @__PURE__ */ jsx(ToggleGroupImpl, { ...toggleGroupSingleProps, ref: forwardedRef })\n    }\n  );\n});\nvar ToggleGroupImplMultiple = React.forwardRef((props, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {\n    },\n    ...toggleGroupMultipleProps\n  } = props;\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? [],\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME\n  });\n  const handleButtonActivate = React.useCallback(\n    (itemValue) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue) => setValue((prevValue = []) => prevValue.filter((value2) => value2 !== itemValue)),\n    [setValue]\n  );\n  return /* @__PURE__ */ jsx(\n    ToggleGroupValueProvider,\n    {\n      scope: props.__scopeToggleGroup,\n      type: \"multiple\",\n      value,\n      onItemActivate: handleButtonActivate,\n      onItemDeactivate: handleButtonDeactivate,\n      children: /* @__PURE__ */ jsx(ToggleGroupImpl, { ...toggleGroupMultipleProps, ref: forwardedRef })\n    }\n  );\n});\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\nvar [ToggleGroupContext, useToggleGroupContext] = createToggleGroupContext(TOGGLE_GROUP_NAME);\nvar ToggleGroupImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: \"group\", dir: direction, ...toggleGroupProps };\n    return /* @__PURE__ */ jsx(ToggleGroupContext, { scope: __scopeToggleGroup, rovingFocus, disabled, children: rovingFocus ? /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation,\n        dir: direction,\n        loop,\n        children: /* @__PURE__ */ jsx(Primitive.div, { ...commonProps, ref: forwardedRef })\n      }\n    ) : /* @__PURE__ */ jsx(Primitive.div, { ...commonProps, ref: forwardedRef }) });\n  }\n);\nvar ITEM_NAME = \"ToggleGroupItem\";\nvar ToggleGroupItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef(null);\n    return context.rovingFocus ? /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: pressed,\n        ref,\n        children: /* @__PURE__ */ jsx(ToggleGroupItemImpl, { ...commonProps, ref: forwardedRef })\n      }\n    ) : /* @__PURE__ */ jsx(ToggleGroupItemImpl, { ...commonProps, ref: forwardedRef });\n  }\n);\nToggleGroupItem.displayName = ITEM_NAME;\nvar ToggleGroupItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: \"radio\", \"aria-checked\": props.pressed, \"aria-pressed\": void 0 };\n    const typeProps = valueContext.type === \"single\" ? singleProps : void 0;\n    return /* @__PURE__ */ jsx(\n      Toggle,\n      {\n        ...typeProps,\n        ...itemProps,\n        ref: forwardedRef,\n        onPressedChange: (pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }\n      }\n    );\n  }\n);\nvar Root2 = ToggleGroup;\nvar Item2 = ToggleGroupItem;\nexport {\n  Item2 as Item,\n  Root2 as Root,\n  ToggleGroup,\n  ToggleGroupItem,\n  createToggleGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Toggle, toggleVariants }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport FinancialsTable from \"@/components/financials/financials-table\";\nimport AccountItemsImport from \"@/components/financials/account-items-import\";\nimport { Button } from \"@/components/ui/button\";\nimport { Filter, X } from \"lucide-react\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { ToggleGroup, ToggleGroupItem } from \"@/components/ui/toggle-group\";\n\n// Types\ninterface MonthlyData {\n  item_year: number;\n  item_month: number;\n  account_item_id: string;\n  budget: number;\n  actual: number;\n}\n\ninterface DailyData {\n  item_date: string;\n  account_item_id: string;\n  budget: number;\n  actual: number;\n}\n\ninterface AccountItem {\n  id: string;\n  name: string;\n  parent_id: string | null;\n  display_order: number;\n}\n\ninterface ClientAccountItem extends AccountItem {\n  children: ClientAccountItem[];\n}\n\ninterface FinancialsClientProps {\n  monthlyData: MonthlyData[];\n  dailyData: DailyData[];\n  accountItems: AccountItem[];\n  fiscalYearStartMonth: number;\n}\n\ntype DisplayUnit = 'monthly' | 'weekly' | 'daily';\ntype ViewMode = 'all' | 'budget' | 'actual';\n\n// --- Date Helpers ---\nconst getWeek = (d: Date) => {\n  d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  const weekNo = Math.ceil((((d.getTime() - yearStart.getTime()) / 86400000) + 1) / 7);\n  return { year: d.getUTCFullYear(), week: weekNo };\n};\n\nconst getStartOfWeek = (year: number, week: number) => {\n  const d = new Date(Date.UTC(year, 0, 1 + (week - 1) * 7));\n  d.setUTCDate(d.getUTCDate() + 1 - d.getUTCDay());\n  return d;\n};\n\nconst getEndOfWeek = (year: number, week: number) => {\n  const startOfWeek = getStartOfWeek(year, week);\n  const endOfWeek = new Date(startOfWeek);\n  endOfWeek.setUTCDate(startOfWeek.getUTCDate() + 6);\n  return endOfWeek;\n};\n\nexport default function FinancialsClient({ monthlyData, dailyData, accountItems, fiscalYearStartMonth }: FinancialsClientProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [displayUnit, setDisplayUnit] = useState<DisplayUnit>('monthly');\n\n  const mediaId = searchParams.get('media') || 'all';\n  const currentYear = parseInt(searchParams.get('year') || new Date().getFullYear().toString());\n  const [selectedYear, setSelectedYear] = useState(currentYear);\n  const [viewMode, setViewMode] = useState<ViewMode>('all');\n\n  const currentYearNum = new Date().getFullYear();\n  const yearOptions = Array.from({ length: 11 }, (_, i) => currentYearNum - 5 + i);\n\n  const handleApplyFilters = () => {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set('year', selectedYear.toString());\n    router.push(`?${params.toString()}`);\n    setIsFilterOpen(false);\n  };\n\n  const handleResetFilters = () => {\n    setSelectedYear(currentYearNum);\n    setViewMode('all');\n    const params = new URLSearchParams(searchParams.toString());\n    params.delete('year');\n    router.push(`?${params.toString()}`);\n  };\n\n  const handleImportComplete = () => router.refresh();\n\n  const tableData = useMemo(() => {\n    const hierarchy = accountItems.reduce((acc, item) => {\n      acc[item.id] = { ...item, children: [] };\n      return acc;\n    }, {} as { [id: string]: ClientAccountItem });\n\n    const rootItems: ClientAccountItem[] = [];\n    Object.values(hierarchy).forEach(item => {\n      if (item.parent_id && hierarchy[item.parent_id]) {\n        hierarchy[item.parent_id].children.push(item);\n      } else {\n        rootItems.push(item);\n      }\n    });\n    rootItems.forEach(r => r.children.sort((a, b) => a.display_order - b.display_order));\n    rootItems.sort((a, b) => a.display_order - b.display_order);\n\n    const dataByItemId = dailyData.reduce((acc, day) => {\n      if (!acc[day.account_item_id]) acc[day.account_item_id] = [];\n      acc[day.account_item_id].push(day);\n      return acc;\n    }, {} as { [id: string]: DailyData[] });\n\n    const headers: { key: string; label: string }[] = [];\n    const aggregatedData: { [itemId: string]: { [headerKey: string]: { budget: number; actual: number } } } = {};\n\n    const processItem = (item: ClientAccountItem) => {\n      const childrenData = item.children?.flatMap(c => dataByItemId[c.id] || []) || [];\n      const selfData = dataByItemId[item.id] || [];\n      return [...selfData, ...childrenData];\n    };\n    \n    const fiscalStartDate = new Date(selectedYear, fiscalYearStartMonth - 1, 1);\n    const fiscalEndDate = new Date(selectedYear + 1, fiscalYearStartMonth - 1, 0);\n\n    if (displayUnit === 'monthly') {\n      const months = Array.from({ length: 12 }, (_, i) => ((i + fiscalYearStartMonth - 1) % 12) + 1);\n      months.forEach(m => headers.push({ key: `m-${m}`, label: `${m}月` }));\n\n      // Group monthly data by account item\n      const monthlyByItemId = monthlyData.reduce((acc, data) => {\n        if (!acc[data.account_item_id]) acc[data.account_item_id] = [];\n        acc[data.account_item_id].push(data);\n        return acc;\n      }, {} as { [id: string]: MonthlyData[] });\n\n      Object.values(hierarchy).forEach(item => {\n        aggregatedData[item.id] = {};\n        const childrenData = item.children?.flatMap(c => monthlyByItemId[c.id] || []) || [];\n        const selfData = monthlyByItemId[item.id] || [];\n        const relevantData = [...selfData, ...childrenData];\n\n        headers.forEach(h => {\n          const month = parseInt(h.key.split('-')[1]);\n          const monthData = relevantData.filter(d => d.item_month === month);\n          aggregatedData[item.id][h.key] = {\n            budget: monthData.reduce((sum, d) => sum + d.budget, 0),\n            actual: monthData.reduce((sum, d) => sum + d.actual, 0),\n          };\n        });\n      });\n    } else if (displayUnit === 'weekly') {\n      const weekMap = new Map<string, { year: number, week: number, start: Date, end: Date }>();\n      const weekLoopDate = new Date(fiscalStartDate);\n      while (weekLoopDate <= fiscalEndDate) {\n        const { year, week } = getWeek(weekLoopDate);\n        const key = `w-${year}-${week}`;\n        if (!weekMap.has(key)) {\n          const startOfWeek = getStartOfWeek(year, week);\n          const endOfWeek = getEndOfWeek(year, week);\n          weekMap.set(key, { year, week, start: startOfWeek, end: endOfWeek });\n        }\n        weekLoopDate.setDate(weekLoopDate.getDate() + 1);\n      }\n      Array.from(weekMap.values()).sort((a,b) => a.year - b.year || a.week - b.week).forEach(({ year, week, start, end }) => {\n        headers.push({ key: `w-${year}-${week}`, label: `${start.getMonth()+1}/${start.getDate()}-${end.getMonth()+1}/${end.getDate()}` });\n      });\n\n      Object.values(hierarchy).forEach(item => {\n        aggregatedData[item.id] = {};\n        const relevantData = processItem(item);\n        headers.forEach(h => {\n          const [, year, week] = h.key.split('-').map(Number);\n          const startOfWeek = getStartOfWeek(year, week);\n          const endOfWeek = getEndOfWeek(year, week);\n          const weekData = relevantData.filter(d => {\n            const itemDate = new Date(d.item_date);\n            return itemDate >= startOfWeek && itemDate <= endOfWeek;\n          });\n          aggregatedData[item.id][h.key] = {\n            budget: weekData.reduce((sum, d) => sum + d.budget, 0),\n            actual: weekData.reduce((sum, d) => sum + d.actual, 0),\n          };\n        });\n      });\n    } else if (displayUnit === 'daily') {\n      const currentDate = new Date(fiscalStartDate);\n      while (currentDate <= fiscalEndDate) {\n        const year = currentDate.getFullYear();\n        const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n        const day = String(currentDate.getDate()).padStart(2, '0');\n        const dateKey = `${year}-${month}-${day}`;\n        headers.push({ key: `d-${dateKey}`, label: `${currentDate.getMonth()+1}/${currentDate.getDate()}` });\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n\n      Object.values(hierarchy).forEach(item => {\n        aggregatedData[item.id] = {};\n        const relevantData = processItem(item);\n        headers.forEach(h => {\n          const dateKey = h.key.substring(2);\n          const dayData = relevantData.filter(d => d.item_date === dateKey);\n          aggregatedData[item.id][h.key] = {\n            budget: dayData.reduce((sum, d) => sum + d.budget, 0),\n            actual: dayData.reduce((sum, d) => sum + d.actual, 0),\n          };\n        });\n      });\n    }\n\n    return { headers, rows: rootItems, data: aggregatedData };\n\n  }, [monthlyData, dailyData, accountItems, displayUnit, fiscalYearStartMonth, selectedYear]);\n\n  const activeFiltersCount = (selectedYear !== currentYearNum ? 1 : 0) + (viewMode !== 'all' ? 1 : 0);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center gap-2 flex-wrap\">\n        <AccountItemsImport\n          mediaId={mediaId}\n          onImportComplete={handleImportComplete}\n          dataToExport={[]}\n          selectedYear={selectedYear}\n          fiscalYearStartMonth={fiscalYearStartMonth}\n        />\n\n        <Popover open={isFilterOpen} onOpenChange={setIsFilterOpen}>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-8 gap-2\">\n              <Filter className=\"h-4 w-4\" />\n              Filter\n              {activeFiltersCount > 0 && (\n                <span className=\"ml-1 rounded-full bg-primary px-2 py-0.5 text-xs text-primary-foreground\">\n                  {activeFiltersCount}\n                </span>\n              )}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-80\" align=\"start\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <h4 className=\"font-medium\">フィルター</h4>\n                {activeFiltersCount > 0 && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={handleResetFilters}\n                    className=\"h-auto p-1 text-xs\"\n                  >\n                    リセット\n                  </Button>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-sm font-medium\">会計年度</Label>\n                <select\n                  value={selectedYear}\n                  onChange={(e) => setSelectedYear(parseInt(e.target.value))}\n                  className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                >\n                  {yearOptions.map((year) => (\n                    <option key={year} value={year}>\n                      {year}年度\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-sm font-medium\">表示項目</Label>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"view-all\"\n                      checked={viewMode === 'all'}\n                      onCheckedChange={() => setViewMode('all')}\n                    />\n                    <label\n                      htmlFor=\"view-all\"\n                      className=\"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n                    >\n                      予実比較\n                    </label>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"view-budget\"\n                      checked={viewMode === 'budget'}\n                      onCheckedChange={() => setViewMode('budget')}\n                    />\n                    <label\n                      htmlFor=\"view-budget\"\n                      className=\"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n                    >\n                      予算のみ\n                    </label>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"view-actual\"\n                      checked={viewMode === 'actual'}\n                      onCheckedChange={() => setViewMode('actual')}\n                    />\n                    <label\n                      htmlFor=\"view-actual\"\n                      className=\"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n                    >\n                      実績のみ\n                    </label>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-2 pt-2\">\n                <Button variant=\"outline\" size=\"sm\" onClick={() => setIsFilterOpen(false)}>\n                  キャンセル\n                </Button>\n                <Button size=\"sm\" onClick={handleApplyFilters}>\n                  適用\n                </Button>\n              </div>\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        {activeFiltersCount > 0 && (\n          <div className=\"flex items-center gap-2\">\n            {selectedYear !== currentYearNum && (\n              <div className=\"flex items-center gap-1 rounded-md bg-secondary px-2 py-1 text-xs\">\n                <span>会計年度: {selectedYear}年度</span>\n                <button\n                  onClick={() => {\n                    setSelectedYear(currentYearNum);\n                    const params = new URLSearchParams(searchParams.toString());\n                    params.delete('year');\n                    router.push(`?${params.toString()}`);\n                  }}\n                  className=\"ml-1 hover:bg-secondary-foreground/10 rounded\"\n                >\n                  <X className=\"h-3 w-3\" />\n                </button>\n              </div>\n            )}\n            {viewMode !== 'all' && (\n              <div className=\"flex items-center gap-1 rounded-md bg-secondary px-2 py-1 text-xs\">\n                <span>\n                  {viewMode === 'budget' ? '予算のみ' : '実績のみ'}\n                </span>\n                <button\n                  onClick={() => setViewMode('all')}\n                  className=\"ml-1 hover:bg-secondary-foreground/10 rounded\"\n                >\n                  <X className=\"h-3 w-3\" />\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n        \n        <ToggleGroup\n          type=\"single\"\n          variant=\"outline\"\n          size=\"sm\"\n          value={displayUnit}\n          onValueChange={(value: DisplayUnit) => value && setDisplayUnit(value)}\n        >\n          <ToggleGroupItem value=\"monthly\">月次</ToggleGroupItem>\n          <ToggleGroupItem value=\"weekly\">週次</ToggleGroupItem>\n          <ToggleGroupItem value=\"daily\">日次</ToggleGroupItem>\n        </ToggleGroup>\n      </div>\n\n      <FinancialsTable\n        headers={tableData.headers}\n        rows={tableData.rows}\n        data={tableData.data}\n        viewMode={viewMode}\n        onDataChange={handleImportComplete}\n      />\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3v12', key: '1x0j5s' }],\n  ['path', { d: 'm17 8-5-5-5 5', key: '7q97r8' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n];\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM3YxMiIgLz4KICA8cGF0aCBkPSJtMTcgOC01LTUtNSA1IiAvPgogIDxwYXRoIGQ9Ik0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('upload', __iconNode);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 15V3', key: 'm9g1x1' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['path', { d: 'm7 10 5 5 5-5', key: 'brsn70' }],\n];\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTVWMyIgLz4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cGF0aCBkPSJtNyAxMCA1IDUgNS01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('download', __iconNode);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\nconst CHECKBOX_NAME = 'Checkbox';\n\ntype ScopedProps<P> = P & { __scopeCheckbox?: Scope };\nconst [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\n\ntype CheckedState = boolean | 'indeterminate';\n\ntype CheckboxContextValue<State extends CheckedState | boolean = CheckedState> = {\n  checked: State | boolean;\n  setChecked: React.Dispatch<React.SetStateAction<State | boolean>>;\n  disabled: boolean | undefined;\n  control: HTMLButtonElement | null;\n  setControl: React.Dispatch<React.SetStateAction<HTMLButtonElement | null>>;\n  name: string | undefined;\n  form: string | undefined;\n  value: string | number | readonly string[];\n  hasConsumerStoppedPropagationRef: React.RefObject<boolean>;\n  required: boolean | undefined;\n  defaultChecked: boolean | undefined;\n  isFormControl: boolean;\n  bubbleInput: HTMLInputElement | null;\n  setBubbleInput: React.Dispatch<React.SetStateAction<HTMLInputElement | null>>;\n};\n\nconst [CheckboxProviderImpl, useCheckboxContext] =\n  createCheckboxContext<CheckboxContextValue>(CHECKBOX_NAME);\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface CheckboxProviderProps<State extends CheckedState = CheckedState> {\n  checked?: State | boolean;\n  defaultChecked?: State | boolean;\n  required?: boolean;\n  onCheckedChange?(checked: State | boolean): void;\n  name?: string;\n  form?: string;\n  disabled?: boolean;\n  value?: string | number | readonly string[];\n  children?: React.ReactNode;\n}\n\nfunction CheckboxProvider<State extends CheckedState = CheckedState>(\n  props: ScopedProps<CheckboxProviderProps<State>>\n) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = 'on',\n    // @ts-expect-error\n    internal_do_not_use_render,\n  } = props;\n\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME,\n  });\n  const [control, setControl] = React.useState<HTMLButtonElement | null>(null);\n  const [bubbleInput, setBubbleInput] = React.useState<HTMLInputElement | null>(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control\n    ? !!form || !!control.closest('form')\n    : // We set this to true by default so that events bubble to forms without JS (SSR)\n      true;\n\n  const context: CheckboxContextValue<State> = {\n    checked: checked,\n    disabled: disabled,\n    setChecked: setChecked,\n    control: control,\n    setControl: setControl,\n    name: name,\n    form: form,\n    value: value,\n    hasConsumerStoppedPropagationRef: hasConsumerStoppedPropagationRef,\n    required: required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl: isFormControl,\n    bubbleInput,\n    setBubbleInput,\n  };\n\n  return (\n    <CheckboxProviderImpl\n      scope={__scopeCheckbox}\n      {...(context as unknown as CheckboxContextValue<CheckedState>)}\n    >\n      {isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children}\n    </CheckboxProviderImpl>\n  );\n}\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'CheckboxTrigger';\n\ninterface CheckboxTriggerProps\n  extends Omit<\n    React.ComponentPropsWithoutRef<typeof Primitive.button>,\n    keyof CheckboxProviderProps\n  > {\n  children?: React.ReactNode;\n}\n\nconst CheckboxTrigger = React.forwardRef<HTMLButtonElement, CheckboxTriggerProps>(\n  (\n    { __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }: ScopedProps<CheckboxTriggerProps>,\n    forwardedRef\n  ) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput,\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener('reset', reset);\n        return () => form.removeEventListener('reset', reset);\n      }\n    }, [control, setChecked]);\n\n    return (\n      <Primitive.button\n        type=\"button\"\n        role=\"checkbox\"\n        aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n        aria-required={required}\n        data-state={getState(checked)}\n        data-disabled={disabled ? '' : undefined}\n        disabled={disabled}\n        value={value}\n        {...checkboxProps}\n        ref={composedRefs}\n        onKeyDown={composeEventHandlers(onKeyDown, (event) => {\n          // According to WAI ARIA, Checkboxes don't activate on enter keypress\n          if (event.key === 'Enter') event.preventDefault();\n        })}\n        onClick={composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => (isIndeterminate(prevChecked) ? true : !prevChecked));\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            // if checkbox has a bubble input and is a form control, stop\n            // propagation from the button so that we only propagate one click\n            // event (from the input). We propagate changes from an input so\n            // that native form validation works and form events reflect\n            // checkbox updates.\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })}\n      />\n    );\n  }\n);\n\nCheckboxTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Checkbox\n * -----------------------------------------------------------------------------------------------*/\n\ntype CheckboxElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface CheckboxProps extends Omit<PrimitiveButtonProps, 'checked' | 'defaultChecked'> {\n  checked?: CheckedState;\n  defaultChecked?: CheckedState;\n  required?: boolean;\n  onCheckedChange?(checked: CheckedState): void;\n}\n\nconst Checkbox = React.forwardRef<CheckboxElement, CheckboxProps>(\n  (props: ScopedProps<CheckboxProps>, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n\n    return (\n      <CheckboxProvider\n        __scopeCheckbox={__scopeCheckbox}\n        checked={checked}\n        defaultChecked={defaultChecked}\n        disabled={disabled}\n        required={required}\n        onCheckedChange={onCheckedChange}\n        name={name}\n        form={form}\n        value={value}\n        // @ts-expect-error\n        internal_do_not_use_render={({ isFormControl }: CheckboxContextValue) => (\n          <>\n            <CheckboxTrigger\n              {...checkboxProps}\n              ref={forwardedRef}\n              // @ts-expect-error\n              __scopeCheckbox={__scopeCheckbox}\n            />\n            {isFormControl && (\n              <CheckboxBubbleInput\n                // @ts-expect-error\n                __scopeCheckbox={__scopeCheckbox}\n              />\n            )}\n          </>\n        )}\n      />\n    );\n  }\n);\n\nCheckbox.displayName = CHECKBOX_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'CheckboxIndicator';\n\ntype CheckboxIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface CheckboxIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst CheckboxIndicator = React.forwardRef<CheckboxIndicatorElement, CheckboxIndicatorProps>(\n  (props: ScopedProps<CheckboxIndicatorProps>, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return (\n      <Presence\n        present={forceMount || isIndeterminate(context.checked) || context.checked === true}\n      >\n        <Primitive.span\n          data-state={getState(context.checked)}\n          data-disabled={context.disabled ? '' : undefined}\n          {...indicatorProps}\n          ref={forwardedRef}\n          style={{ pointerEvents: 'none', ...props.style }}\n        />\n      </Presence>\n    );\n  }\n);\n\nCheckboxIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'CheckboxBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface CheckboxBubbleInputProps extends Omit<InputProps, 'checked'> {}\n\nconst CheckboxBubbleInput = React.forwardRef<HTMLInputElement, CheckboxBubbleInputProps>(\n  ({ __scopeCheckbox, ...props }: ScopedProps<CheckboxBubbleInputProps>, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput,\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n\n    // Bubble checked change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        'checked'\n      ) as PropertyDescriptor;\n      const setChecked = descriptor.set;\n\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event('click', { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return (\n      <Primitive.input\n        type=\"checkbox\"\n        aria-hidden\n        defaultChecked={defaultChecked ?? defaultCheckedRef.current}\n        required={required}\n        disabled={disabled}\n        name={name}\n        value={value}\n        form={form}\n        {...props}\n        tabIndex={-1}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          ...controlSize,\n          position: 'absolute',\n          pointerEvents: 'none',\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: 'translateX(-100%)',\n        }}\n      />\n    );\n  }\n);\n\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction isFunction(value: unknown): value is (...args: any[]) => any {\n  return typeof value === 'function';\n}\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nexport {\n  createCheckboxScope,\n  //\n  Checkbox,\n  CheckboxProvider,\n  CheckboxTrigger,\n  CheckboxIndicator,\n  CheckboxBubbleInput,\n  //\n  Checkbox as Root,\n  CheckboxProvider as Provider,\n  CheckboxTrigger as Trigger,\n  CheckboxIndicator as Indicator,\n  CheckboxBubbleInput as BubbleInput,\n};\nexport type {\n  CheckboxProps,\n  CheckboxProviderProps,\n  CheckboxTriggerProps,\n  CheckboxIndicatorProps,\n  CheckboxBubbleInputProps,\n  CheckedState,\n};\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Toggle } from '@radix-ui/react-toggle';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToggleGroup';\n\ntype ScopedProps<P> = P & { __scopeToggleGroup?: Scope };\nconst [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype ToggleGroupElement = ToggleGroupImplSingleElement | ToggleGroupImplMultipleElement;\ninterface ToggleGroupSingleProps extends ToggleGroupImplSingleProps {\n  type: 'single';\n}\ninterface ToggleGroupMultipleProps extends ToggleGroupImplMultipleProps {\n  type: 'multiple';\n}\n\nconst ToggleGroup = React.forwardRef<\n  ToggleGroupElement,\n  ToggleGroupSingleProps | ToggleGroupMultipleProps\n>((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n\n  if (type === 'single') {\n    const singleProps = toggleGroupProps as ToggleGroupImplSingleProps;\n    return <ToggleGroupImplSingle {...singleProps} ref={forwardedRef} />;\n  }\n\n  if (type === 'multiple') {\n    const multipleProps = toggleGroupProps as ToggleGroupImplMultipleProps;\n    return <ToggleGroupImplMultiple {...multipleProps} ref={forwardedRef} />;\n  }\n\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupValueContextValue = {\n  type: 'single' | 'multiple';\n  value: string[];\n  onItemActivate(value: string): void;\n  onItemDeactivate(value: string): void;\n};\n\nconst [ToggleGroupValueProvider, useToggleGroupValueContext] =\n  createToggleGroupContext<ToggleGroupValueContextValue>(TOGGLE_GROUP_NAME);\n\ntype ToggleGroupImplSingleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplSingleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the item that is pressed.\n   */\n  value?: string;\n  /**\n   * The value of the item that is pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string;\n  /**\n   * The callback that fires when the value of the toggle group changes.\n   */\n  onValueChange?(value: string): void;\n}\n\nconst ToggleGroupImplSingle = React.forwardRef<\n  ToggleGroupImplSingleElement,\n  ToggleGroupImplSingleProps\n>((props: ScopedProps<ToggleGroupImplSingleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupSingleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? '',\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME,\n  });\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"single\"\n      value={React.useMemo(() => (value ? [value] : []), [value])}\n      onItemActivate={setValue}\n      onItemDeactivate={React.useCallback(() => setValue(''), [setValue])}\n    >\n      <ToggleGroupImpl {...toggleGroupSingleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\ntype ToggleGroupImplMultipleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplMultipleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the items that are pressed.\n   */\n  value?: string[];\n  /**\n   * The value of the items that are pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string[];\n  /**\n   * The callback that fires when the state of the toggle group changes.\n   */\n  onValueChange?(value: string[]): void;\n}\n\nconst ToggleGroupImplMultiple = React.forwardRef<\n  ToggleGroupImplMultipleElement,\n  ToggleGroupImplMultipleProps\n>((props: ScopedProps<ToggleGroupImplMultipleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupMultipleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? [],\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME,\n  });\n\n  const handleButtonActivate = React.useCallback(\n    (itemValue: string) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue: string) =>\n      setValue((prevValue = []) => prevValue.filter((value) => value !== itemValue)),\n    [setValue]\n  );\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"multiple\"\n      value={value}\n      onItemActivate={handleButtonActivate}\n      onItemDeactivate={handleButtonDeactivate}\n    >\n      <ToggleGroupImpl {...toggleGroupMultipleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupContextValue = { rovingFocus: boolean; disabled: boolean };\n\nconst [ToggleGroupContext, useToggleGroupContext] =\n  createToggleGroupContext<ToggleGroupContextValue>(TOGGLE_GROUP_NAME);\n\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToggleGroupImplElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToggleGroupImplProps extends PrimitiveDivProps {\n  /**\n   * Whether the group is disabled from user interaction.\n   * @defaultValue false\n   */\n  disabled?: boolean;\n  /**\n   * Whether the group should maintain roving focus of its buttons.\n   * @defaultValue true\n   */\n  rovingFocus?: boolean;\n  loop?: RovingFocusGroupProps['loop'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst ToggleGroupImpl = React.forwardRef<ToggleGroupImplElement, ToggleGroupImplProps>(\n  (props: ScopedProps<ToggleGroupImplProps>, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: 'group', dir: direction, ...toggleGroupProps };\n    return (\n      <ToggleGroupContext scope={__scopeToggleGroup} rovingFocus={rovingFocus} disabled={disabled}>\n        {rovingFocus ? (\n          <RovingFocusGroup.Root\n            asChild\n            {...rovingFocusGroupScope}\n            orientation={orientation}\n            dir={direction}\n            loop={loop}\n          >\n            <Primitive.div {...commonProps} ref={forwardedRef} />\n          </RovingFocusGroup.Root>\n        ) : (\n          <Primitive.div {...commonProps} ref={forwardedRef} />\n        )}\n      </ToggleGroupContext>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'ToggleGroupItem';\n\ntype ToggleGroupItemElement = ToggleGroupItemImplElement;\ninterface ToggleGroupItemProps extends Omit<ToggleGroupItemImplProps, 'pressed'> {}\n\nconst ToggleGroupItem = React.forwardRef<ToggleGroupItemElement, ToggleGroupItemProps>(\n  (props: ScopedProps<ToggleGroupItemProps>, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef<HTMLDivElement>(null);\n    return context.rovingFocus ? (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={pressed}\n        ref={ref}\n      >\n        <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    ) : (\n      <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n    );\n  }\n);\n\nToggleGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupItemImplElement = React.ComponentRef<typeof Toggle>;\ntype ToggleProps = React.ComponentPropsWithoutRef<typeof Toggle>;\ninterface ToggleGroupItemImplProps extends Omit<ToggleProps, 'defaultPressed' | 'onPressedChange'> {\n  /**\n   * A string value for the toggle group item. All items within a toggle group should use a unique value.\n   */\n  value: string;\n}\n\nconst ToggleGroupItemImpl = React.forwardRef<ToggleGroupItemImplElement, ToggleGroupItemImplProps>(\n  (props: ScopedProps<ToggleGroupItemImplProps>, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: 'radio', 'aria-checked': props.pressed, 'aria-pressed': undefined };\n    const typeProps = valueContext.type === 'single' ? singleProps : undefined;\n    return (\n      <Toggle\n        {...typeProps}\n        {...itemProps}\n        ref={forwardedRef}\n        onPressedChange={(pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = ToggleGroup;\nconst Item = ToggleGroupItem;\n\nexport {\n  createToggleGroupScope,\n  //\n  ToggleGroup,\n  ToggleGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { ToggleGroupSingleProps, ToggleGroupMultipleProps, ToggleGroupItemProps };\n"],"names":[],"mappings":"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","ignoreList":[0,3,6,7,11,12,13,14,15,16]}