{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/src/components/agent/asp-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AspForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call AspForm() from the server but AspForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/dashboard/src/components/agent/asp-form.tsx <module evaluation>\",\n    \"AspForm\",\n);\nexport const aspFormSchema = registerClientReference(\n    function() { throw new Error(\"Attempted to call aspFormSchema() from the server but aspFormSchema is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/dashboard/src/components/agent/asp-form.tsx <module evaluation>\",\n    \"aspFormSchema\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,UAAU,IAAA,uYAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,kFACA;AAEG,MAAM,gBAAgB,IAAA,uYAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,kFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/src/components/agent/asp-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AspForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call AspForm() from the server but AspForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/dashboard/src/components/agent/asp-form.tsx\",\n    \"AspForm\",\n);\nexport const aspFormSchema = registerClientReference(\n    function() { throw new Error(\"Attempted to call aspFormSchema() from the server but aspFormSchema is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/dashboard/src/components/agent/asp-form.tsx\",\n    \"aspFormSchema\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,UAAU,IAAA,uYAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,8DACA;AAEG,MAAM,gBAAgB,IAAA,uYAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,8DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/src/actions/asp-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { z } from \"zod\";\nimport { createClient } from \"@/lib/supabase/server\";\nimport { aspFormSchema } from \"@/components/agent/asp-form\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function createAsp(values: z.infer<typeof aspFormSchema>) {\n  const supabase = await createClient();\n\n  // サーバーサイドでのバリデーション\n  const validatedFields = aspFormSchema.safeParse(values);\n  if (!validatedFields.success) {\n    return {\n      error: \"無効なデータです。\",\n    };\n  }\n\n  const { name, login_url, media_id, prompt } = validatedFields.data;\n\n  const { error } = await supabase.from(\"asps\").insert({\n    name,\n    login_url,\n    media_id,\n    prompt,\n    updated_at: new Date().toISOString(),\n  });\n\n  if (error) {\n    console.error(\"Error creating ASP:\", error);\n    return {\n      error: \"ASPの作成に失敗しました。\",\n    };\n  }\n\n  // キャッシュをクリアして一覧を更新\n  revalidatePath(\"/dashboard/agent\");\n\n  return {\n    data: \"ASPを正常に作成しました。\",\n  };\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;;;;AAEO,eAAe,UAAU,MAAqC;IACnE,MAAM,WAAW,MAAM,IAAA,qKAAY;IAEnC,mBAAmB;IACnB,MAAM,kBAAkB,gLAAa,CAAC,SAAS,CAAC;IAChD,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC5B,OAAO;YACL,OAAO;QACT;IACF;IAEA,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,gBAAgB,IAAI;IAElE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,QAAQ,MAAM,CAAC;QACnD;QACA;QACA;QACA;QACA,YAAY,IAAI,OAAO,WAAW;IACpC;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO;YACL,OAAO;QACT;IACF;IAEA,mBAAmB;IACnB,IAAA,8QAAc,EAAC;IAEf,OAAO;QACL,MAAM;IACR;AACF;;;IAlCsB;;AAAA,8WAAA","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/.next-internal/server/app/dashboard/agent/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {createAsp as '4000807c7d2758f134d2af58704654ed7449690d52'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/src/components/agent/agent-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AgentClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AgentClient() from the server but AgentClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/dashboard/src/components/agent/agent-client.tsx <module evaluation>\",\n    \"AgentClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,uYAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,sFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/src/components/agent/agent-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AgentClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AgentClient() from the server but AgentClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/dashboard/src/components/agent/agent-client.tsx\",\n    \"AgentClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,uYAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///Users/t.morimoto/Desktop/me-media-dev-dashboard/apps/dashboard/src/app/dashboard/agent/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\";\nimport { AgentClient } from \"@/components/agent/agent-client\";\n\nexport default async function AgentPage() {\n  const supabase = await createClient();\n\n  // ASP一覧とメディア一覧を並行取得\n  const [aspsResult, mediaResult] = await Promise.all([\n    supabase\n      .from(\"asps\")\n      .select(\"*\")\n      .order(\"name\"),\n    supabase\n      .from(\"media\")\n      .select(\"id, name\")\n      .order(\"name\"),\n  ]);\n\n  if (aspsResult.error) {\n    console.error(\"Error fetching asps:\", aspsResult.error);\n  }\n\n  if (mediaResult.error) {\n    console.error(\"Error fetching media:\", mediaResult.error);\n  }\n\n  return (\n    <div className=\"flex-1 flex flex-col p-4 md:p-6\">\n      <AgentClient\n        asps={aspsResult.data || []}\n        media={mediaResult.data || []}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,qKAAY;IAEnC,oBAAoB;IACpB,MAAM,CAAC,YAAY,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;QAClD,SACG,IAAI,CAAC,QACL,MAAM,CAAC,KACP,KAAK,CAAC;QACT,SACG,IAAI,CAAC,SACL,MAAM,CAAC,YACP,KAAK,CAAC;KACV;IAED,IAAI,WAAW,KAAK,EAAE;QACpB,QAAQ,KAAK,CAAC,wBAAwB,WAAW,KAAK;IACxD;IAEA,IAAI,YAAY,KAAK,EAAE;QACrB,QAAQ,KAAK,CAAC,yBAAyB,YAAY,KAAK;IAC1D;IAEA,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC,kLAAW;YACV,MAAM,WAAW,IAAI,IAAI,EAAE;YAC3B,OAAO,YAAY,IAAI,IAAI,EAAE;;;;;;;;;;;AAIrC","debugId":null}}]
}