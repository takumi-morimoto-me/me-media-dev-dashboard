# 技術選定：メディアDevダッシュボード

本文書は、「メディアDevダッシュボード」プロジェクトで使用する技術スタックを定義するものである。

## 1. 全体アーキテクチャ

本システムは、BaaS (Backend as a Service) であるSupabaseを中心に構築されたサーバーレスアーキテクチャを採用する。フロントエンドはNext.jsを用いて開発し、Supabaseが提供するデータベース、認証、サーバーレス関数などの機能と連携する。

---

## 2. 技術スタック詳細

### 2.1. データベース

-   **サービス**: **Supabase (PostgreSQL)**
-   **選定理由**:
    -   世界で最も先進的なオープンソースのリレーショナルデータベース(RDB)であるPostgreSQLをバックエンドに採用しており、信頼性が高い。
    -   予実管理のような多角的なデータ集計や分析において、NoSQLよりもSQLを用いた方が効率的かつ柔軟に処理を記述できるため。
    -   豊富な拡張機能、特にサーバーレス関数との親和性が高く、複雑なビジネスロジックをデータベース層で実装するアーキテクチャに適している。

### 2.2. バックエンド (サーバーレス関数)

-   **サービス**: **Supabase Edge Functions**
-   **選定理由**:
    -   Supabaseプロジェクトと密に統合されており、データベースへのアクセスや認証情報の連携が容易。
    -   DenoをベースとしたTypeScript環境で開発でき、フロントエンドとの言語統一による開発効率の向上が見込める。
    -   グローバルに分散配置されたエッジで実行されるため、高速な応答が期待できる。

### 2.3. フロントエンド

-   **フレームワーク**: **Next.js (App Router)**
    -   **選定理由**: Reactの公式推奨フレームワークであり、エコシステムが成熟している。App Routerによる柔軟なルーティング、サーバーコンポーネントとクライアントコンポーネントの活用によるパフォーマンス最適化に優れる。
-   **言語**: **TypeScript**
    -   **選定理由**: 静的型付けによるコードの堅牢性向上と、開発時のエラー検知、エディタの補完機能による開発体験の向上。
-   **スタイリング**: **Tailwind CSS**
    -   **選定理由**: ユーティリティファーストのアプローチにより、CSSを直接書くことなく高速なUI構築が可能。デザインの一貫性を保ちやすい。
-   **UIコンポーネント**: **shadcn/ui**
    -   **選定理由**: アクセシビリティが考慮された高品質なコンポーネント群を、コピー＆ペーストでプロジェクトに導入できる。デザインのカスタマイズ性が高く、Tailwind CSSとの親和性が非常に高い。

### 2.4. セキュリティ

-   **認証**: **Supabase Authentication**
    -   **選定理由**: メールアドレス・パスワード認証からソーシャルログインまで、多様な認証方法を容易に実装できる。RLS（Row Level Security）との連携がスムーズ。
-   **アクセス制御**: **Supabase RLS (Row Level Security)**
    -   **選定理由**: データベースの行レベルでアクセス権限を定義できる強力なセキュリティ機能。SQLでポリシーを記述するため、複雑な認可ロジックにも対応可能。
-   **機密情報管理**: **Google Secret Manager** (または同等のサービス)
    -   **選定理由**: 連携システム（MCP）が使用する外部サイトの認証情報など、ソースコードに含めるべきでない機密情報を安全に保管・管理するため。
